import { Klass, Visibility } from "../../compiler/types/Class.js";
import { intPrimitiveType } from "../../compiler/types/PrimitiveTypes.js";
import { Attribute, Method, Parameterlist } from "../../compiler/types/Types.js";
import { PolygonHelper } from "../graphics/Polygon.js";
export class GNGDreieckClass extends Klass {
    constructor(module, moduleStore) {
        super("Dreieck", module, "Dreieck-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)");
        this.setBaseClass(module.typeStore.getType("GNGBaseFigur"));
        this.addAttribute(new Attribute("breite", intPrimitiveType, (value) => {
            let breite = value.object.intrinsicData["Breite"];
            value.value = Math.round(breite);
        }, false, Visibility.protected, false, "Breite des Dreiecks"));
        this.addAttribute(new Attribute("höhe", intPrimitiveType, (value) => {
            let höhe = value.object.intrinsicData["Höhe"];
            value.value = Math.round(höhe);
        }, false, Visibility.protected, false, "Höhe des Dreiecks"));
        this.setupAttributeIndicesRecursive();
        this.addMethod(new Method("Dreieck", new Parameterlist([]), null, (parameters) => {
            let o = parameters[0].value;
            o.intrinsicData["isGNG"] = true;
            let rh = new PolygonHelper([60, 10, 110, 110, 10, 110], true, module.main.getInterpreter(), o);
            o.intrinsicData["Actor"] = rh;
            o.intrinsicData["moveAnchor"] = { x: 60, y: 10 };
            rh.centerXInitial = 60;
            rh.centerYInitial = 60;
            o.intrinsicData["Breite"] = 100;
            o.intrinsicData["Höhe"] = 100;
            o.intrinsicData["Farbe"] = "rot";
            rh.setFillColor(0xff0000);
        }, false, false, 'Instanziert ein neues Dreieck-Objekt.', true));
        this.addMethod(new Method("GrößeSetzen", new Parameterlist([
            { identifier: "breite", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: true },
            { identifier: "höhe", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: true }
        ]), null, (parameters) => {
            let o = parameters[0].value;
            let sh = o.intrinsicData["Actor"];
            let breite = parameters[1].value;
            let höhe = parameters[2].value;
            o.intrinsicData["Breite"] = breite;
            o.intrinsicData["Höhe"] = höhe;
            breite /= sh.scaleFactor;
            höhe /= sh.scaleFactor;
            if (sh.testdestroyed("GrößeSetzen"))
                return;
            sh.setAllPointsUntransformed([60, 10, 60 - breite / 2, 10 + höhe, 60 + breite / 2, 10 + höhe]);
            sh.centerXInitial = 60;
            sh.centerYInitial = 10 + höhe / 2;
            // sh.setAllPointsUntransformed([60, 60 - höhe/2, 60 - breite/2, 60 + höhe/2, 60 + breite/2, 60 + höhe/2 ]);
        }, false, false, "Setzt die Breite und Höhe des Dreiecks.", false));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR05HRHJlaWVjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jbGllbnQvcnVudGltZWxpYnJhcnkvZ25nL0dOR0RyZWllY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUMxRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQVMsTUFBTSwrQkFBK0IsQ0FBQztBQUd4RixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFHdkQsTUFBTSxPQUFPLGVBQWdCLFNBQVEsS0FBSztJQUV0QyxZQUFZLE1BQWMsRUFBRSxXQUF3QjtRQUVoRCxLQUFLLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxtRUFBbUUsQ0FBQyxDQUFDO1FBRTlGLElBQUksQ0FBQyxZQUFZLENBQVEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztRQUVuRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksU0FBUyxDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLEtBQVksRUFBRSxFQUFFO1lBQ3pFLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xELEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyQyxDQUFDLEVBQUUsS0FBSyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLHFCQUFxQixDQUFDLENBQUMsQ0FBQztRQUUvRCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLEtBQVksRUFB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VyxDQUFDO1lBQ3pCLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDO1lBRXZCLElBQUksRUFBRSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUM7Z0JBQUUsT0FBTztZQUU1QyxFQUFFLENBQUMseUJBQXlCLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxNQUFNLEdBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU0sR0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBRSxDQUFDLENBQUM7WUFDNUYsRUFBRSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7WUFDdkIsRUFBRSxDQUFDLGNBQWMsR0FBRyxFQUFFLEdBQUcsSUFBSSxHQUFDLENBQUMsQ0FBQztZQUVoQyw0R0FBNEc7UUFFaEgsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUseUNBQXlDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUtoRixDQUFDO0NBRUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVN0b3JlIH0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL3BhcnNlci9Nb2R1bGUuanNcIjtcbmltcG9ydCB7IEtsYXNzLCBWaXNpYmlsaXR5IH0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL3R5cGVzL0NsYXNzLmpzXCI7XG5pbXBvcnQgeyBpbnRQcmltaXRpdmVUeXBlIH0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL3R5cGVzL1ByaW1pdGl2ZVR5cGVzLmpzXCI7XG5pbXBvcnQgeyBBdHRyaWJ1dGUsIE1ldGhvZCwgUGFyYW1ldGVybGlzdCwgVmFsdWUgfSBmcm9tIFwiLi4vLi4vY29tcGlsZXIvdHlwZXMvVHlwZXMuanNcIjtcbmltcG9ydCB7IFJ1bnRpbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJwcmV0ZXIvUnVudGltZU9iamVjdC5qc1wiO1xuaW1wb3J0IHsgQ2lyY2xlSGVscGVyIH0gZnJvbSBcIi4uL2dyYXBoaWNzL0NpcmNsZS5qc1wiO1xuaW1wb3J0IHsgUG9seWdvbkhlbHBlciB9IGZyb20gXCIuLi9ncmFwaGljcy9Qb2x5Z29uLmpzXCI7XG5pbXBvcnQgeyBSZWN0YW5nbGVIZWxwZXIgfSBmcm9tIFwiLi4vZ3JhcGhpY3MvUmVjdGFuZ2xlLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBHTkdEcmVpZWNrQ2xhc3MgZXh0ZW5kcyBLbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3Rvcihtb2R1bGU6IE1vZHVsZSwgbW9kdWxlU3RvcmU6IE1vZHVsZVN0b3JlKSB7XG5cbiAgICAgICAgc3VwZXIoXCJEcmVpZWNrXCIsIG1vZHVsZSwgXCJEcmVpZWNrLUtsYXNzZSBkZXIgR3JhcGhpY3MnbiBHYW1lcy1CaWJsaW90aGVrIChDb3JuZWxzZW4tVmVybGFnKVwiKTtcblxuICAgICAgICB0aGlzLnNldEJhc2VDbGFzcyg8S2xhc3M+bW9kdWxlLnR5cGVTdG9yZS5nZXRUeXBlKFwiR05HQmFzZUZpZ3VyXCIpKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZShuZXcgQXR0cmlidXRlKFwiYnJlaXRlXCIsIGludFByaW1pdGl2ZVR5cGUsICh2YWx1ZTogVmFsdWUpID0+IHsgXG4gICAgICAgICAgICBsZXQgYnJlaXRlID0gdmFsdWUub2JqZWN0LmludHJpbnNpY0RhdGFbXCJCcmVpdGVcIl07XG4gICAgICAgICAgICB2YWx1ZS52YWx1ZSA9IE1hdGgucm91bmQoYnJlaXRlKTsgXG4gICAgICAgIH0sIGZhbHNlLCBWaXNpYmlsaXR5LnByb3RlY3RlZCwgZmFsc2UsIFwiQnJlaXRlIGRlcyBEcmVpZWNrc1wiKSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUobmV3IEF0dHJpYnV0ZShcImjDtmhlXCIsIGludFByaW1pdGl2ZVR5cGUsICh2YWx1ZTogVmFsdWUpID0+IHsgXG4gICAgICAgICAgICBsZXQgaMO2aGUgPSB2YWx1ZS5vYmplY3QuaW50cmluc2ljRGF0YVtcIkjDtmhlXCJdO1xuICAgICAgICAgICAgdmFsdWUudmFsdWUgPSBNYXRoLnJvdW5kKGjDtmhlKTsgXG4gICAgICAgIH0sIGZhbHNlLCBWaXNpYmlsaXR5LnByb3RlY3RlZCwgZmFsc2UsIFwiSMO2aGUgZGVzIERyZWllY2tzXCIpKTtcblxuICAgICAgICB0aGlzLnNldHVwQXR0cmlidXRlSW5kaWNlc1JlY3Vyc2l2ZSgpO1xuXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJEcmVpZWNrXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgbnVsbCxcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBsZXQgbzogUnVudGltZU9iamVjdCA9IHBhcmFtZXRlcnNbMF0udmFsdWU7XG4gICAgICAgICAgICAgICAgby5pbnRyaW5zaWNEYXRhW1wiaXNHTkdcIl0gPSB0cnVlO1xuXG5cbiAgICAgICAgICAgICAgICBsZXQgcmggPSBuZXcgUG9seWdvbkhlbHBlcihbNjAsIDEwLCAxMTAsMTEwLCAxMCwgMTEwXSx0cnVlLCBtb2R1bGUubWFpbi5nZXRJbnRlcnByZXRlcigpLCBvKTtcbiAgICAgICAgICAgICAgICBvLmludHJpbnNpY0RhdGFbXCJBY3RvclwiXSA9IHJoO1xuXG4gICAgICAgICAgICAgICAgby5pbnRyaW5zaWNEYXRhW1wibW92ZUFuY2hvclwiXSA9IHt4OiA2MCwgeTogMTB9O1xuICAgICAgICAgICAgICAgIHJoLmNlbnRlclhJbml0aWFsID0gNjA7XG4gICAgICAgICAgICAgICAgcmguY2VudGVyWUluaXRpYWwgPSA2MDtcblxuICAgICAgICAgICAgICAgIG8uaW50cmluc2ljRGF0YVtcIkJyZWl0ZVwiXSA9IDEwMDtcbiAgICAgICAgICAgICAgICBvLmludHJpbnNpY0RhdGFbXCJIw7ZoZVwiXSA9IDEwMDtcblxuICAgICAgICAgICAgICAgIG8uaW50cmluc2ljRGF0YVtcIkZhcmJlXCJdID0gXCJyb3RcIjtcbiAgICAgICAgICAgICAgICByaC5zZXRGaWxsQ29sb3IoMHhmZjAwMDApO1xuXG5cbiAgICAgICAgICAgIH0sIGZhbHNlLCBmYWxzZSwgJ0luc3RhbnppZXJ0IGVpbiBuZXVlcyBEcmVpZWNrLU9iamVrdC4nLCB0cnVlKSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJHcsO2w59lU2V0emVuXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtcbiAgICAgICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwiYnJlaXRlXCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJow7ZoZVwiLCB0eXBlOiBpbnRQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IHRydWUgfVxuICAgICAgICAgICAgXSksIG51bGwsXG4gICAgICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG86IFJ1bnRpbWVPYmplY3QgPSBwYXJhbWV0ZXJzWzBdLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2g6IFBvbHlnb25IZWxwZXIgPSBvLmludHJpbnNpY0RhdGFbXCJBY3RvclwiXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJyZWl0ZTogbnVtYmVyID0gcGFyYW1ldGVyc1sxXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGjDtmhlOiBudW1iZXIgPSBwYXJhbWV0ZXJzWzJdLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIG8uaW50cmluc2ljRGF0YVtcIkJyZWl0ZVwiXSA9IGJyZWl0ZTtcbiAgICAgICAgICAgICAgICAgICAgby5pbnRyaW5zaWNEYXRhW1wiSMO2aGVcIl0gPSBow7ZoZTsgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgYnJlaXRlIC89IHNoLnNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICBow7ZoZSAvPSBzaC5zY2FsZUZhY3RvcjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2gudGVzdGRlc3Ryb3llZChcIkdyw7bDn2VTZXR6ZW5cIikpIHJldHVybjtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgc2guc2V0QWxsUG9pbnRzVW50cmFuc2Zvcm1lZChbNjAsIDEwLCA2MCAtIGJyZWl0ZS8yLCAxMCArIGjDtmhlLCA2MCArIGJyZWl0ZS8yLCAxMCArIGjDtmhlIF0pO1xuICAgICAgICAgICAgICAgICAgICBzaC5jZW50ZXJYSW5pdGlhbCA9IDYwO1xuICAgICAgICAgICAgICAgICAgICBzaC5jZW50ZXJZSW5pdGlhbCA9IDEwICsgaMO2aGUvMjtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIHNoLnNldEFsbFBvaW50c1VudHJhbnNmb3JtZWQoWzYwLCA2MCAtIGjDtmhlLzIsIDYwIC0gYnJlaXRlLzIsIDYwICsgaMO2aGUvMiwgNjAgKyBicmVpdGUvMiwgNjAgKyBow7ZoZS8yIF0pO1xuICAgIFxuICAgICAgICAgICAgICAgIH0sIGZhbHNlLCBmYWxzZSwgXCJTZXR6dCBkaWUgQnJlaXRlIHVuZCBIw7ZoZSBkZXMgRHJlaWVja3MuXCIsIGZhbHNlKSk7XG4gICAgXG5cblxuXG4gICAgfVxuXG59XG5cbiJdfQ==