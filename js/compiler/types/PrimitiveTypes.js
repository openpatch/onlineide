import { TokenType } from "../lexer/Token.js";
import { ArrayType } from "./Array.js";
import { Interface, Klass, setBooleanPrimitiveTypeCopy } from "./Class.js";
import { ObjectClass } from "./ObjectClass.js";
import { Method, Parameterlist, PrimitiveType, Type } from "./Types.js";
import { IntegerClass } from "./boxedTypes/IntegerClass.js";
import { FloatClass } from "./boxedTypes/FloatClass.js";
import { CharacterClass } from "./boxedTypes/CharacterClass.js";
import { BooleanClass } from "./boxedTypes/BooleanClass.js";
import { DoubleClass } from "./boxedTypes/DoubleClass.js";
export class NullType extends Type {
    constructor() {
        super();
        this.identifier = "null";
    }
    getResultType(operation, secondOperandType) {
        return null;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    canCastTo(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    castTo(value, type) {
        return value;
    }
    equals(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    debugOutput(value) {
        return "null";
    }
}
export class VarType extends Type {
    constructor() {
        super();
        this.identifier = "var";
    }
    getResultType(operation, secondOperandType) {
        return null;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    canCastTo(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    castTo(value, type) {
        return value;
    }
    equals(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    debugOutput(value) {
        return "var";
    }
}
export class IntPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "int";
        this.description = "ganze Zahl";
        this.operationTable = {
            [TokenType.plus]: { "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType, "String": stringPrimitiveType },
            [TokenType.minus]: { "none": intPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.modulo]: { "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.division]: { "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": intPrimitiveType },
            [TokenType.doubleMinus]: { "none": intPrimitiveType },
            [TokenType.negation]: { "none": intPrimitiveType },
            [TokenType.tilde]: { "none": intPrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            // binary ops
            [TokenType.OR]: { "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.XOR]: { "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.ampersand]: { "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftLeft]: { "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftRight]: { "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftRightUnsigned]: { "int": intPrimitiveType, "Integer": intPrimitiveType }
        };
        // this.canCastTolist = [floatPrimitiveType, doublePrimitiveType, stringPrimitiveType, charPrimitiveType];
        this.canCastToMap = {
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "char": { automatic: true, needsStatement: true },
            "int": { automatic: true, needsStatement: false },
            "Integer": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.integerConstant;
    }
    castTo(value, type) {
        if (type == floatPrimitiveType || type == doublePrimitiveType) {
            return {
                type: type,
                value: value.value
            };
        }
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: "" + value.value
            };
        }
        if (type == charPrimitiveType) {
            return {
                type: type,
                value: String.fromCharCode(value.value)
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                if (secondOperand.type == intPrimitiveType) {
                    return Math.trunc(value / (secondOperand.value));
                }
                return value / (secondOperand.value);
            case TokenType.modulo:
                if (secondOperand.type == intPrimitiveType) {
                    return Math.trunc(value % (secondOperand.value));
                }
                return 1;
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.tilde:
                return ~value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.OR:
                return value | (secondOperand.value);
            case TokenType.XOR:
                return value ^ (secondOperand.value);
            case TokenType.ampersand:
                return value & (secondOperand.value);
            case TokenType.shiftLeft:
                return value << (secondOperand.value);
            case TokenType.shiftRight:
                return value >> (secondOperand.value);
            case TokenType.shiftRightUnsigned:
                return value >>> (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class FloatPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "float";
        this.description = "Fließkommazahl mit einfacher Genauigkeit";
        this.operationTable = {
            [TokenType.plus]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType, "String": stringPrimitiveType },
            [TokenType.minus]: { "none": floatPrimitiveType, "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.division]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": floatPrimitiveType },
            [TokenType.doubleMinus]: { "none": floatPrimitiveType },
            [TokenType.negation]: { "none": floatPrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
        };
        // this.canCastTolist = [intPrimitiveType, stringPrimitiveType, doublePrimitiveType];
        this.canCastToMap = {
            "int": { automatic: false, needsStatement: true },
            "double": { automatic: true, needsStatement: false },
            "float": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "Float": { automatic: true, needsStatement: false },
            "Double": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.floatingPointConstant;
    }
    castTo(value, type) {
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: "" + value.value
            };
        }
        if (type == intPrimitiveType) {
            return {
                type: type,
                value: Math.trunc(value.value)
            };
        }
        if (type == doublePrimitiveType) {
            return {
                type: type,
                value: value.value
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                return value / (secondOperand.value);
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class DoublePrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "double";
        this.description = "Fließkommazahl mit doppelter Genauigkeit";
        this.operationTable = {
            [TokenType.plus]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType, "String": stringPrimitiveType },
            [TokenType.minus]: { "none": doublePrimitiveType, "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.division]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": doublePrimitiveType },
            [TokenType.doubleMinus]: { "none": doublePrimitiveType },
            [TokenType.negation]: { "none": doublePrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
        };
        // this.canCastTolist = [intPrimitiveType, stringPrimitiveType, floatPrimitiveType];
        this.canCastToMap = {
            "int": { automatic: false, needsStatement: true },
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "Float": { automatic: true, needsStatement: false },
            "Double": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.floatingPointConstant;
    }
    castTo(value, type) {
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: "" + value.value
            };
        }
        if (type == intPrimitiveType) {
            return {
                type: type,
                value: Math.trunc(value.value)
            };
        }
        if (type == floatPrimitiveType) {
            return {
                type: type,
                value: value.value
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                return value / (secondOperand.value);
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class BooleanPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = false;
        this.identifier = "boolean";
        this.description = "boolescher Wert (true oder false)";
        this.operationTable = {
            [TokenType.plus]: { "String": stringPrimitiveType },
            [TokenType.and]: { "boolean": booleanPrimitiveType },
            [TokenType.or]: { "boolean": booleanPrimitiveType },
            [TokenType.not]: { "none": booleanPrimitiveType },
            [TokenType.equal]: { "boolean": booleanPrimitiveType },
            [TokenType.notEqual]: { "boolean": booleanPrimitiveType },
        };
        this.canCastToMap = {
            "String": { automatic: true, needsStatement: true },
            "boolean": { automatic: true, needsStatement: false },
            "Boolean": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.booleanConstant;
    }
    castTo(value, type) {
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: "" + value.value
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                return value + (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.and:
                return value && (secondOperand.value);
            case TokenType.or:
                return value || (secondOperand.value);
            case TokenType.not:
                return !value;
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class VoidPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = false;
        this.identifier = "void";
        this.description = "leerer Rückgabewert";
        this.operationTable = {};
        this.canCastToMap = {};
    }
    toTokenType() {
        return TokenType.keywordVoid;
    }
    castTo(value, type) {
        return value;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    debugOutput(value) {
        return "void";
    }
}
export class StringPrimitiveType extends Klass {
    constructor(baseClass) {
        super("String", null, "Ein Objekt der Klasse String speichert eine Zeichenkette.");
        this.baseClass = baseClass;
        let stringClass = this;
        baseClass.methods.filter(m => m.identifier == "toString").forEach(m => m.returnType = stringClass);
    }
    toTokenType() {
        return TokenType.stringConstant;
    }
    getResultType(operation, secondOperandType) {
        if (operation == TokenType.keywordInstanceof) {
            return super.getResultType(operation, secondOperandType);
        }
        let opTypeMap = this.operationTable[operation];
        if (opTypeMap == null) {
            return null; // Operation not possible
        }
        if (secondOperandType != null) {
            return opTypeMap[secondOperandType.identifier];
        }
        return opTypeMap["none"];
    }
    init() {
        this.operationTable = {
            [TokenType.plus]: {
                "String": stringPrimitiveType, "int": stringPrimitiveType,
                "float": stringPrimitiveType, "double": doublePrimitiveType,
                "boolean": stringPrimitiveType, "char": stringPrimitiveType
            },
            [TokenType.equal]: { "String": booleanPrimitiveType, "null": booleanPrimitiveType },
            [TokenType.notEqual]: { "String": booleanPrimitiveType, "null": booleanPrimitiveType },
            [TokenType.lower]: { "String": booleanPrimitiveType },
            [TokenType.greater]: { "String": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "String": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "String": booleanPrimitiveType }
        };
        this.addMethod(new Method("length", new Parameterlist([]), intPrimitiveType, (parameters) => { return parameters[0].value.length; }, false, false, "Länge der Zeichenkette, d.h. Anzahl der Zeichen in der Zeichenkette."));
        this.addMethod(new Method("charAt", new Parameterlist([{ identifier: "Position", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), charPrimitiveType, (parameters) => { return parameters[0].value.charAt((parameters[1].value)); }, false, false, "Zeichen an der gegebenen Position.\n**Bem.: ** Position == 0 bedeutet das erste Zeichen in der Zeichenkette, Position == 1 das zweite usw. ."));
        this.addMethod(new Method("equals", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return parameters[0].value == (parameters[1].value); }, false, false, "Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (unter Berücksichtigung von Klein-/Großschreibung)."));
        this.addMethod(new Method("compareTo", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).localeCompare((parameters[1].value), 'de', { caseFirst: 'upper' }); }, false, false, "Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind."));
        this.addMethod(new Method("compareToIgnoreCase", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).localeCompare((parameters[1].value), 'de', { sensitivity: "accent" }); }, false, false, "Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind."));
        this.addMethod(new Method("equalsIgnoreCase", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).toLowerCase() == (parameters[1].value).toLowerCase(); }, false, false, "Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (**ohne** Berücksichtigung von Klein-/Großschreibung)."));
        this.addMethod(new Method("endsWith", new Parameterlist([{ identifier: "suffix", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).endsWith((parameters[1].value)); }, false, false, "Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = suffix) endet. Klein-/Großschreibung wird dabei berücksichtigt!"));
        this.addMethod(new Method("startsWith", new Parameterlist([{ identifier: "präfix", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).startsWith((parameters[1].value)); }, false, false, "Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = präfix) beginnt. Klein-/Großschreibung wird dabei berücksichtigt!"));
        this.addMethod(new Method("toLowerCase", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).toLocaleLowerCase(); }, false, false, "Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Großbuchstaben durch den entsprechenden Kleinbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht."));
        this.addMethod(new Method("toUpperCase", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).toLocaleUpperCase(); }, false, false, "Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Kleinbuchstaben durch den entsprechenden Großbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht."));
        this.addMethod(new Method("substring", new Parameterlist([{ identifier: "beginIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), stringPrimitiveType, (parameters) => { return (parameters[0].value).substring((parameters[1].value)); }, false, false, "Gibt das hintere Ende der Zeichenkette ab **beginIndex** zurück. **beginIndex** == 1 bedeutet, dass die Zeichenkette ab dem 2.(!) Zeichen zurückgegeben wird. "));
        this.addMethod(new Method("substring", new Parameterlist([{ identifier: "beginIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "endIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), stringPrimitiveType, (parameters) => { return (parameters[0].value).substring((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die Teil-Zeichenkette von **beginIndex** bis **endIndex** zurück.\n**Vorsicht: ** beginIndex und endIndex sind nullbasiert, d.h. beginIndex == 0 bedeutet die Position vor dem ersten Zeichen."));
        this.addMethod(new Method("trim", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).trim(); }, false, false, "Gibt die Zeichenkette zurück, die entsteht, wenn man am Anfang und Ende der Zeichenkette alle Leerzeichen, Tabs und Zeilenumbrüche entfernt."));
        this.addMethod(new Method("isEmpty", new Parameterlist([]), booleanPrimitiveType, (parameters) => { return (parameters[0].value) == ""; }, false, false, "Gibt genau dann wahr zurück, wenn die Zeichenkette leer ist.\n**Warnung: ** Die Methode darf nicht mit dem '''null'''-Objekt aufgerufen werden!"));
        this.addMethod(new Method("indexOf", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).indexOf((parameters[1].value)); }, false, false, "Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird."));
        this.addMethod(new Method("indexOf", new Parameterlist([
            { identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "fromIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), intPrimitiveType, (parameters) => { return (parameters[0].value).indexOf((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex mit der Suche begonnen."));
        this.addMethod(new Method("lastIndexOf", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).lastIndexOf((parameters[1].value)); }, false, false, "Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird."));
        this.addMethod(new Method("lastIndexOf", new Parameterlist([
            { identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "fromIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), intPrimitiveType, (parameters) => { return (parameters[0].value).lastIndexOf((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex - von rechts her beginnend - gesucht."));
        this.addMethod(new Method("replace", new Parameterlist([
            { identifier: "target", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => { return (parameters[0].value).replace((parameters[1].value), (parameters[2].value)); }, false, false, "Ersetzt alle Vorkommen von **target** durch **replacement** und gibt die entstandene Zeichenkette zurück. Die Zeichenkette selbst wird nicht verändert."));
        this.addMethod(new Method("replaceAll", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, 'g');
            return (parameters[0].value).replace(regExp, (parameters[2].value));
        }, false, false, "Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **alle** Fundstellen durch **replacement**."));
        this.addMethod(new Method("replaceFirst", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, '');
            return (parameters[0].value).replace(regExp, (parameters[2].value));
        }, false, false, "Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **die erste** Fundstelle durch **replacement**."));
        this.addMethod(new Method("split", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), new ArrayType(stringPrimitiveType), (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, '');
            let strings = (parameters[0].value).split(regExp);
            let values = [];
            for (let s of strings) {
                values.push({ type: stringPrimitiveType, value: s });
            }
            return values;
        }, false, false, "Teilt die Zeichenkette an den Stellen, die durch den regulären Ausdruck (regex) definiert sind, in Teile auf. Die Fundstellen des regex werden dabei weggelassen. Gibt die Teile als String-Array zurück."));
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType || secondOperand.type == charPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else if (secondOperand.type == booleanPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.lower:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) < 0;
            // return value < (<string>(secondOperand.value));
            case TokenType.greater:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) > 0;
            // return value > <string>(secondOperand.value);
            case TokenType.lowerOrEqual:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) <= 0;
            // return value <= <string>(secondOperand.value);
            case TokenType.greaterOrEqual:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) >= 0;
            // return value >= <string>(secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.keywordInstanceof:
                return super.compute(operation, firstOperand, secondOperand);
        }
    }
    debugOutput(value) {
        return '"' + value.value + '"';
    }
}
export class CharPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = "\u0000";
        this.identifier = "char";
        this.description = "ein Zeichen";
        this.operationTable = {
            [TokenType.plus]: { "String": stringPrimitiveType, "char": stringPrimitiveType },
            [TokenType.equal]: { "char": booleanPrimitiveType },
            [TokenType.notEqual]: { "char": booleanPrimitiveType },
            [TokenType.lower]: { "char": booleanPrimitiveType },
            [TokenType.greater]: { "char": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "char": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "char": booleanPrimitiveType }
        };
        // this.canCastTolist = [intPrimitiveType, floatPrimitiveType, doublePrimitiveType, stringPrimitiveType];
        this.canCastToMap = {
            "int": { automatic: true, needsStatement: true },
            "float": { automatic: true, needsStatement: true },
            "double": { automatic: true, needsStatement: true },
            "String": { automatic: true, needsStatement: false },
            "char": { automatic: true, needsStatement: false },
            "Character": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.charConstant;
    }
    castTo(value, type) {
        if (type == stringPrimitiveType) {
            return value;
        }
        if (type == intPrimitiveType || type == floatPrimitiveType || type == doublePrimitiveType) {
            return {
                type: type,
                value: value.value.charCodeAt(0)
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                return value + (secondOperand.value);
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "'" + value.value + "'";
    }
}
export var voidPrimitiveType = new VoidPrimitiveType();
export var intPrimitiveType = new IntPrimitiveType();
export var floatPrimitiveType = new FloatPrimitiveType();
export var doublePrimitiveType = new DoublePrimitiveType();
export var booleanPrimitiveType = new BooleanPrimitiveType();
setBooleanPrimitiveTypeCopy(booleanPrimitiveType);
export var objectType = new ObjectClass(null);
export var stringPrimitiveType = new StringPrimitiveType(objectType);
export var charPrimitiveType = new CharPrimitiveType();
export var nullType = new NullType();
export var varType = new VarType();
export var IntegerType = new IntegerClass(objectType);
export var FloatType = new FloatClass(objectType);
export var DoubleType = new DoubleClass(objectType);
export var CharacterType = new CharacterClass(objectType);
export var BooleanType = new BooleanClass(objectType);
export var TokenTypeToDataTypeMap = {
    [TokenType.integerConstant]: intPrimitiveType,
    [TokenType.floatingPointConstant]: floatPrimitiveType,
    [TokenType.booleanConstant]: booleanPrimitiveType,
    [TokenType.stringConstant]: stringPrimitiveType,
    [TokenType.charConstant]: charPrimitiveType,
    [TokenType.keywordNull]: nullType
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWl0aXZlVHlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY2xpZW50L2NvbXBpbGVyL3R5cGVzL1ByaW1pdGl2ZVR5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzNFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFTLE1BQU0sWUFBWSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFMUQsTUFBTSxPQUFPLFFBQVMsU0FBUSxJQUFJO0lBRTlCO1FBQ0ksS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztJQUM3QixDQUFDO0lBRUQsYUFBYSxDQUFDLFNBQW9CLEVBQUUsaUJBQXVCO1FBQ3ZELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxPQUFPLENBQUMsU0FBb0IsRUFBRSxZQUFtQixFQUFFLGFBQW9CO1FBQ25FLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxTQUFTLENBQUMsSUFBVTtRQUNoQixPQUFPLENBQUMsSUFBSSxZQUFZLEtBQUssSUFBSSxJQUFJLFlBQVksU0FBUyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFZLEVBQUUsSUFBVTtRQUMzQixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQVU7UUFDYixPQUFPLENBQUMsSUFBSSxZQUFZLEtBQUssSUFBSSxJQUFJLFlBQVksU0FBUyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVNLFdBQVcsQ0FBQyxLQUFZO1FBQzNCLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxPQUFRLFNBQVEsSUFBSTtJQUU3QjtRQUNJLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQUVELGFBQWEsQ0FBQyxTQUFvQixFQUFFLGlCQUF1QjtRQUN2RCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0QsT0FBTyxDQUFDLFNBQW9CLEVBQUUsWUFBbUIsRUFBRSxhQUFvQjtRQUNuRSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0QsU0FBUyxDQUFDLElBQVU7UUFDaEIsT0FBTyxDQUFDLElBQUksWUFBWSxLQUFLLElBQUksSUFBSSxZQUFZLFNBQVMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFDRCxNQUFNLENBQUMsS0FBWSxFQUFFLElBQVU7UUFDM0IsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNELE1BQU0sQ0FBQyxJQUFVO1FBQ2IsT0FBTyxDQUFDLElBQUksWUFBWSxLQUFLLElBQUksSUFBSSxZQUFZLFNBQVMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBWTtRQUMzQixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBQ0o7QUFFRCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsYUFBYTtJQUUvQyxJQUFJO1FBQ0EsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFFdEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFFeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxZQUFZLENBQUE7UUFFL0IsSUFBSSxDQUFDLGNBQWMsR0FBRztZQUNsQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRTtZQUNqTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRTtZQUM3TixDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFO1lBQzVNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtZQUM1RSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFO1lBQ3RNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFO1lBQ3BELENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFO1lBQ3JELENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFO1lBQ2xELENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFO1lBQy9DLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDak4sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNuTixDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQ3hOLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDMU4sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNqTixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBRXBOLGFBQWE7WUFDYixDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUU7WUFDeEUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO1lBQ3pFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtZQUMvRSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUU7WUFDL0UsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO1lBQ2hGLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO1NBRTNGLENBQUM7UUFFRiwwR0FBMEc7UUFFMUcsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNoQixPQUFPLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUU7WUFDbkQsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFO1lBQ3BELFFBQVEsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRTtZQUNuRCxNQUFNLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUU7WUFDakQsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFO1lBQ2pELFNBQVMsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtTQUN4RCxDQUFBO0lBR0wsQ0FBQztJQUVELFdBQVc7UUFDUCxPQUFPLFNBQVMsQ0FBQyxlQUFlLENBQUM7SUFDckMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFZLEVBQUUsSUFBVTtRQUVsQyxJQUFJLElBQUksSUFBSSxrQkFBa0IsSUFBSSxJQUFJLElBQUksbUJBQW1CLEVBQUU7WUFDM0QsT0FBTztnQkFDSCxJQUFJLEVBQUUsSUFBSTtnQkFDVixLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7YUFDckIsQ0FBQztTQUNMO1FBRUQsSUFBSSxJQUFJLElBQUksbUJBQW1CLEVBQUU7WUFDN0IsT0FBTztnQkFDSCxJQUFJLEVBQUUsSUFBSTtnQkFDVixLQUFLLEVBQUUsRUFBRSxHQUFXLEtBQUssQ0FBQyxLQUFLO2FBQ2xDLENBQUE7U0FDSjtRQUVELElBQUksSUFBSSxJQUFJLGlCQUFpQixFQUFFO1lBQzNCLE9BQU87Z0JBQ0gsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQVMsS0FBSyxDQUFDLEtBQUssQ0FBQzthQUNsRCxDQUFBO1NBQ0o7SUFFTCxDQUFDO0lBR00sT0FBTyxDQUFDLFNBQW9CLEVBQUUsWUFBbUIsRUFBRSxhQUFxQjtRQUUzRSxJQUFJLEtBQUssR0FBVyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV6QyxRQUFRLFNBQVMsRUFBRTtZQUNmLEtBQUssU0FBUyxDQUFDLElBQUk7Z0JBQ2YsSUFBSSxhQUFhLENBQUMsSUFBSSxJQUFJLG1CQUFtQixFQUFFO29CQUMzQyxPQUFPLEtBQUssR0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDaEQ7cUJBQU07b0JBQ0gsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2hEO1lBRUwsS0FBSyxTQUFTLENBQUMsS0FBSztnQkFDaEIsSUFBSSxhQUFhLElBQUksSUFBSTtvQkFBRSxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUN6QyxPQUFPLEtBQUssR0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVqRCxLQUFLLFNBQVMsQ0FBQyxjQUFjO2dCQUN6QixPQUFPLEtBQUssR0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVqRCxLQUFLLFNBQVMsQ0FBQyxRQUFRO2dCQUNuQixJQUFJLGFBQWEsQ0FBQyxJQUFJLElBQUksZ0JBQWdCLEVBQUU7b0JBQ3hDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztpQkFDNUQ7Z0JBQ0QsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsTUFBTTtnQkFDakIsSUFBSSxhQUFhLENBQUMsSUFBSSxJQUFJLGdCQUFnQixFQUFFO29CQUN4QyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7aUJBQzVEO2dCQUNELE9BQU8sQ0FBQyxDQUFDO1lBRWIsS0FBSyxTQUFTLENBQUMsVUFBVTtnQkFDckIsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUVuQixLQUFLLFNBQVMsQ0FBQyxXQUFXO2dCQUN0QixPQUFPLEtBQUssRUFBRSxDQUFDO1lBRW5CLEtBQUssU0FBUyxDQUFDLFFBQVE7Z0JBQ25CLE9BQU8sQ0FBQyxLQUFLLENBQUM7WUFFbEIsS0FBSyxTQUFTLENBQUMsS0FBSztnQkFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUVsQixLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUNoQixPQUFPLEtBQUssR0FBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUUsQ0FBQztZQUVuRCxLQUFLLFNBQVMsQ0FBQyxPQUFPO2dCQUNsQixPQUFPLEtBQUssR0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVqRCxLQUFLLFNBQVMsQ0FBQyxZQUFZO2dCQUN2QixPQUFPLEtBQUssSUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxLQUFLLFNBQVMsQ0FBQyxjQUFjO2dCQUN6QixPQUFPLEtBQUssSUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUNoQixPQUFPLEtBQUssSUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxLQUFLLFNBQVMsQ0FBQyxRQUFRO2dCQUNuQixPQUFPLEtBQUssSUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxLQUFLLFNBQVMsQ0FBQyxFQUFFO2dCQUNiLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpELEtBQUssU0FBUyxDQUFDLEdBQUc7Z0JBQ2QsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsU0FBUztnQkFDcEIsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsU0FBUztnQkFDcEIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsVUFBVTtnQkFDckIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsa0JBQWtCO2dCQUM3QixPQUFPLEtBQUssS0FBYSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUV0RDtJQUdMLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBWTtRQUMzQixPQUFPLEVBQUUsR0FBVyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBQ3BDLENBQUM7Q0FHSjtBQUVELE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxhQUFhO0lBRWpELElBQUk7UUFFQSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztRQUV0QixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUUxQixJQUFJLENBQUMsV0FBVyxHQUFHLDBDQUEwQyxDQUFBO1FBRTdELElBQUksQ0FBQyxjQUFjLEdBQUc7WUFDbEIsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsS0FBSyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUU7WUFDck8sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsU0FBUyxFQUFFLGtCQUFrQixFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUU7WUFDbk8sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsS0FBSyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRTtZQUNoTixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFO1lBQzFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGtCQUFrQixFQUFFO1lBQ3RELENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGtCQUFrQixFQUFFO1lBQ3ZELENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGtCQUFrQixFQUFFO1lBQ3BELENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDak4sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNuTixDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQ3hOLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDMU4sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNqTixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1NBQ3ZOLENBQUM7UUFFRixxRkFBcUY7UUFFckYsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNoQixLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUU7WUFDakQsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFO1lBQ3BELE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtZQUNuRCxRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUU7WUFDbkQsT0FBTyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFO1lBQ25ELFFBQVEsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtTQUN2RCxDQUFBO0lBRUwsQ0FBQztJQUVELFdBQVc7UUFDUCxPQUFPLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQztJQUMzQyxDQUFDO0lBRU0sTUFBTSxDQUFDLEtBQVksRUFBRSxJQUFVO1FBRWxDLElBQUksSUFBSSxJQUFJLG1CQUFtQixFQUFFO1lBQzdCLE9BQU87Z0JBQ0gsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsS0FBSyxFQUFFLEVBQUUsR0FBVyxLQUFLLENBQUMsS0FBSzthQUNsQyxDQUFBO1NBQ0o7UUFFRCxJQUFJLElBQUksSUFBSSxnQkFBZ0IsRUFBRTtZQUMxQixPQUFPO2dCQUNILElBQUksRUFBRSxJQUFJO2dCQUNWLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFTLEtBQUssQ0FBQyxLQUFLLENBQUM7YUFDekMsQ0FBQTtTQUNKO1FBRUQsSUFBSSxJQUFJLElBQUksbUJBQW1CLEVBQUU7WUFDN0IsT0FBTztnQkFDSCxJQUFJLEVBQUUsSUFBSTtnQkFDVixLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7YUFDckIsQ0FBQTtTQUNKO0lBRUwsQ0FBQztJQUdNLE9BQU8sQ0FBQyxTQUFvQixFQUFFLFlBQW1CLEVBQUUsYUFBcUI7UUFFM0UsSUFBSSxLQUFLLEdBQVcsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFekMsUUFBUSxTQUFTLEVBQUU7WUFDZixLQUFLLFNBQVMsQ0FBQyxJQUFJO2dCQUNmLElBQUksYUFBYSxDQUFDLElBQUksSUFBSSxtQkFBbUIsRUFBRTtvQkFDM0MsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2hEO3FCQUFNO29CQUNILE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNoRDtZQUVMLEtBQUssU0FBUyxDQUFDLEtBQUs7Z0JBQ2hCLElBQUksYUFBYSxJQUFJLElBQUk7b0JBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQztnQkFDekMsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsY0FBYztnQkFDekIsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsUUFBUTtnQkFDbkIsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsVUFBVTtnQkFDckIsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUVuQixLQUFLLFNBQVMsQ0FBQyxXQUFXO2dCQUN0QixPQUFPLEtBQUssRUFBRSxDQUFDO1lBRW5CLEtBQUssU0FBUyxDQUFDLFFBQVE7Z0JBQ25CLE9BQU8sQ0FBQyxLQUFLLENBQUM7WUFFbEIsS0FBSyxTQUFTLENBQUMsS0FBSztnQkFDaEIsT0FBTyxLQUFLLEdBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFFLENBQUM7WUFFbkQsS0FBSyxTQUFTLENBQUMsT0FBTztnQkFDbEIsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsWUFBWTtnQkFDdkIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsY0FBYztnQkFDekIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsS0FBSztnQkFDaEIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsUUFBUTtnQkFDbkIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7U0FFckQ7SUFHTCxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQVk7UUFDM0IsT0FBTyxFQUFFLEdBQVcsS0FBSyxDQUFDLEtBQUssQ0FBQztJQUNwQyxDQUFDO0NBR0o7QUFFRCxNQUFNLE9BQU8sbUJBQW9CLFNBQVEsYUFBYTtJQUVsRCxJQUFJO1FBRUEsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFFdEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUM7UUFFM0IsSUFBSSxDQUFDLFdBQVcsR0FBRywwQ0FBMEMsQ0FBQTtRQUU3RCxJQUFJLENBQUMsY0FBYyxHQUFHO1lBQ2xCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG1CQUFtQixFQUFFLFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFO1lBQ3pPLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEtBQUssRUFBRSxtQkFBbUIsRUFBRSxTQUFTLEVBQUUsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFO1lBQ3hPLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG1CQUFtQixFQUFFLFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUU7WUFDcE4sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsbUJBQW1CLEVBQUUsU0FBUyxFQUFFLG1CQUFtQixFQUFFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRTtZQUM5TSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxtQkFBbUIsRUFBRTtZQUN2RCxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxtQkFBbUIsRUFBRTtZQUN4RCxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxtQkFBbUIsRUFBRTtZQUNyRCxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQ2pOLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDbk4sQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN4TixDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQzFOLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDak4sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtTQUN2TixDQUFDO1FBRUYsb0ZBQW9GO1FBQ3BGLElBQUksQ0FBQyxZQUFZLEdBQUc7WUFDaEIsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFO1lBQ2pELE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtZQUNuRCxRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUU7WUFDcEQsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFO1lBQ25ELE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtZQUNuRCxRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUU7U0FDdkQsQ0FBQTtJQUdMLENBQUM7SUFFRCxXQUFXO1FBQ1AsT0FBTyxTQUFTLENBQUMscUJBQXFCLENBQUM7SUFDM0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFZLEVBQUUsSUFBVTtRQUVsQyxJQUFJLElBQUksSUFBSSxtQkFBbUIsRUFBRTtZQUM3QixPQUFPO2dCQUNILElBQUksRUFBRSxJQUFJO2dCQUNWLEtBQUssRUFBRSxFQUFFLEdBQVcsS0FBSyxDQUFDLEtBQUs7YUFDbEMsQ0FBQTtTQUNKO1FBRUQsSUFBSSxJQUFJLElBQUksZ0JBQWdCLEVBQUU7WUFDMUIsT0FBTztnQkFDSCxJQUFJLEVBQUUsSUFBSTtnQkFDVixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBUyxLQUFLLENBQUMsS0FBSyxDQUFDO2FBQ3pDLENBQUE7U0FDSjtRQUVELElBQUksSUFBSSxJQUFJLGtCQUFrQixFQUFFO1lBQzVCLE9BQU87Z0JBQ0gsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLO2FBQ3JCLENBQUE7U0FDSjtJQUVMLENBQUM7SUFHTSxPQUFPLENBQUMsU0FBb0IsRUFBRSxZQUFtQixFQUFFLGFBQXFCO1FBRTNFLElBQUksS0FBSyxHQUFXLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXpDLFFBQVEsU0FBUyxFQUFFO1lBQ2YsS0FBSyxTQUFTLENBQUMsSUFBSTtnQkFDZixJQUFJLGFBQWEsQ0FBQyxJQUFJLElBQUksbUJBQW1CLEVBQUU7b0JBQzNDLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNoRDtxQkFBTTtvQkFDSCxPQUFPLEtBQUssR0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDaEQ7WUFFTCxLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUNoQixJQUFJLGFBQWEsSUFBSSxJQUFJO29CQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUM7Z0JBQ3pDLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpELEtBQUssU0FBUyxDQUFDLGNBQWM7Z0JBQ3pCLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpELEtBQUssU0FBUyxDQUFDLFFBQVE7Z0JBQ25CLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpELEtBQUssU0FBUyxDQUFDLFVBQVU7Z0JBQ3JCLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFFbkIsS0FBSyxTQUFTLENBQUMsV0FBVztnQkFDdEIsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUVuQixLQUFLLFNBQVMsQ0FBQyxRQUFRO2dCQUNuQixPQUFPLENBQUMsS0FBSyxDQUFDO1lBRWxCLEtBQUssU0FBUyxDQUFDLEtBQUs7Z0JBQ2hCLE9BQU8sS0FBSyxHQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBRSxDQUFDO1lBRW5ELEtBQUssU0FBUyxDQUFDLE9BQU87Z0JBQ2xCLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpELEtBQUssU0FBUyxDQUFDLFlBQVk7Z0JBQ3ZCLE9BQU8sS0FBSyxJQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWxELEtBQUssU0FBUyxDQUFDLGNBQWM7Z0JBQ3pCLE9BQU8sS0FBSyxJQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWxELEtBQUssU0FBUyxDQUFDLEtBQUs7Z0JBQ2hCLE9BQU8sS0FBSyxJQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWxELEtBQUssU0FBUyxDQUFDLFFBQVE7Z0JBQ25CLE9BQU8sS0FBSyxJQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBRXJEO0lBR0wsQ0FBQztJQUVNLFdBQVcsQ0FBQyxLQUFZO1FBQzNCLE9BQU8sRUFBRSxHQUFXLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDcEMsQ0FBQztDQUdKO0FBRUQsTUFBTSxPQUFPLG9CQUFxQixTQUFRLGFBQWE7SUFFbkQsSUFBSTtRQUVBLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBRTFCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBRTVCLElBQUksQ0FBQyxXQUFXLEdBQUcsbUNBQW1DLENBQUE7UUFFdEQsSUFBSSxDQUFDLGNBQWMsR0FBRztZQUNsQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRTtZQUNuRCxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRTtZQUNwRCxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRTtZQUNuRCxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUNqRCxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRTtZQUN0RCxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRTtTQUM1RCxDQUFDO1FBRUYsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNoQixRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUU7WUFDbkQsU0FBUyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFO1lBQ3JELFNBQVMsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtTQUN4RCxDQUFBO0lBR0wsQ0FBQztJQUVELFdBQVc7UUFDUCxPQUFPLFNBQVMsQ0FBQyxlQUFlLENBQUM7SUFDckMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFZLEVBQUUsSUFBVTtRQUVsQyxJQUFJLElBQUksSUFBSSxtQkFBbUIsRUFBRTtZQUM3QixPQUFPO2dCQUNILElBQUksRUFBRSxJQUFJO2dCQUNWLEtBQUssRUFBRSxFQUFFLEdBQVcsS0FBSyxDQUFDLEtBQUs7YUFDbEMsQ0FBQTtTQUNKO0lBRUwsQ0FBQztJQUdNLE9BQU8sQ0FBQyxTQUFvQixFQUFFLFlBQW1CLEVBQUUsYUFBcUI7UUFFM0UsSUFBSSxLQUFLLEdBQVksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFMUMsUUFBUSxTQUFTLEVBQUU7WUFDZixLQUFLLFNBQVMsQ0FBQyxJQUFJO2dCQUNmLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWpELEtBQUssU0FBUyxDQUFDLEtBQUs7Z0JBQ2hCLE9BQU8sS0FBSyxJQUFhLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRW5ELEtBQUssU0FBUyxDQUFDLFFBQVE7Z0JBQ25CLE9BQU8sS0FBSyxJQUFhLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRW5ELEtBQUssU0FBUyxDQUFDLEdBQUc7Z0JBQ2QsT0FBTyxLQUFLLElBQWEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbkQsS0FBSyxTQUFTLENBQUMsRUFBRTtnQkFDYixPQUFPLEtBQUssSUFBYSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVuRCxLQUFLLFNBQVMsQ0FBQyxHQUFHO2dCQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUM7U0FFckI7SUFHTCxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQVk7UUFDM0IsT0FBTyxFQUFFLEdBQVksS0FBSyxDQUFDLEtBQUssQ0FBQztJQUNyQyxDQUFDO0NBR0o7QUFFRCxNQUFNLE9BQU8saUJBQWtCLFNBQVEsYUFBYTtJQUVoRCxJQUFJO1FBRUEsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFFMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUM7UUFFekIsSUFBSSxDQUFDLFdBQVcsR0FBRyxxQkFBcUIsQ0FBQTtRQUV4QyxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQ3JCLENBQUM7UUFFRixJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUUzQixDQUFDO0lBRU0sV0FBVztRQUNkLE9BQU8sU0FBUyxDQUFDLFdBQVcsQ0FBQztJQUNqQyxDQUFDO0lBRU0sTUFBTSxDQUFDLEtBQVksRUFBRSxJQUFVO1FBRWxDLE9BQU8sS0FBSyxDQUFDO0lBRWpCLENBQUM7SUFHTSxPQUFPLENBQUMsU0FBb0IsRUFBRSxZQUFtQixFQUFFLGFBQXFCO1FBRTNFLE9BQU8sSUFBSSxDQUFDO0lBRWhCLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBWTtRQUMzQixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0NBR0o7QUFFRCxNQUFNLE9BQU8sbUJBQW9CLFNBQVEsS0FBSztJQTZCMUMsWUFBWSxTQUFnQjtRQUN4QixLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSwyREFBMkQsQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztRQUN2QixTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLElBQUksVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUMsQ0FBQztJQUN2RyxDQUFDO0lBOUJNLFdBQVc7UUFDZCxPQUFPLFNBQVMsQ0FBQyxjQUFjLENBQUM7SUFDcEMsQ0FBQztJQUVNLGFBQWEsQ0FBQyxTQUFvQixFQUFFLGlCQUF3QjtRQUUvRCxJQUFJLFNBQVMsSUFBSSxTQUFTLENBQUMsaUJBQWlCLEVBQUU7WUFDMUMsT0FBTyxLQUFLLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1NBQzVEO1FBRUQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUUvQyxJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUU7WUFDbkIsT0FBTyxJQUFJLENBQUMsQ0FBQyx5QkFBeUI7U0FDekM7UUFFRCxJQUFJLGlCQUFpQixJQUFJLElBQUksRUFBRTtZQUMzQixPQUFPLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNsRDtRQUVELE9BQU8sU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRTdCLENBQUM7SUFVRCxJQUFJO1FBQ0EsSUFBSSxDQUFDLGNBQWMsR0FBRztZQUNsQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDZCxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsS0FBSyxFQUFFLG1CQUFtQjtnQkFDekQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzNELFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLEVBQUUsbUJBQW1CO2FBQzlEO1lBQ0QsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxFQUFFLG9CQUFvQixFQUFFO1lBQ25GLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUN0RixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNyRCxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN2RCxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUM1RCxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtTQUVqRSxDQUFDO1FBR0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxhQUFhLENBQUMsRUFBRSxDQUFDLEVBQUUsZ0JBQWdCLEVBQ3ZFLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLHNFQUFzRSxDQUFDLENBQUMsQ0FBQztRQUM3SixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsaUJBQWlCLEVBQ25MLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsOElBQThJLENBQUMsQ0FBQyxDQUFDO1FBQ3BRLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFLElBQUksYUFBYSxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxvQkFBb0IsRUFDNUwsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLGlJQUFpSSxDQUFDLENBQUMsQ0FBQztRQUNoUCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQzNMLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxhQUFhLENBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxrTEFBa0wsQ0FBQyxDQUFDLENBQUM7UUFDL1UsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQ3JNLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxhQUFhLENBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxrTEFBa0wsQ0FBQyxDQUFDLENBQUM7UUFDbFYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLEVBQ3RNLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxXQUFXLEVBQUUsSUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLG9JQUFvSSxDQUFDLENBQUMsQ0FBQztRQUNyUixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFVBQVUsRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLEVBQ3pMLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxRQUFRLENBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLDZKQUE2SixDQUFDLENBQUMsQ0FBQztRQUN2UixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLEVBQzNMLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxVQUFVLENBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLCtKQUErSixDQUFDLENBQUMsQ0FBQztRQUMzUixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLGFBQWEsRUFBRSxJQUFJLGFBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRSxtQkFBbUIsRUFDL0UsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxtT0FBbU8sQ0FBQyxDQUFDLENBQUM7UUFDelUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxhQUFhLENBQUMsRUFBRSxDQUFDLEVBQUUsbUJBQW1CLEVBQy9FLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsbU9BQW1PLENBQUMsQ0FBQyxDQUFDO1FBQ3pVLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFLElBQUksYUFBYSxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxtQkFBbUIsRUFDMUwsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxDQUFDLFNBQVMsQ0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsZ0tBQWdLLENBQUMsQ0FBQyxDQUFDO1FBQzNSLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFLElBQUksYUFBYSxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRTtZQUN2SyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLG1CQUFtQixFQUM5SCxDQUFDLFVBQVUsRUFBRSxFQUFFLEdBQUcsT0FBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFFLENBQUMsU0FBUyxDQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxxTUFBcU0sQ0FBQyxDQUFDLENBQUM7UUFDL1YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxhQUFhLENBQUMsRUFBRSxDQUFDLEVBQUUsbUJBQW1CLEVBQ3hFLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLDhJQUE4SSxDQUFDLENBQUMsQ0FBQztRQUN2TyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLGFBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRSxvQkFBb0IsRUFDNUUsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLGlKQUFpSixDQUFDLENBQUMsQ0FBQztRQUN6TyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQ3pMLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxPQUFPLENBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLDJGQUEyRixDQUFDLENBQUMsQ0FBQztRQUNwTixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLGFBQWEsQ0FBQztZQUNuRCxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO1lBQ2pILEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUU7U0FDL0csQ0FBQyxFQUFFLGdCQUFnQixFQUNoQixDQUFDLFVBQVUsRUFBRSxFQUFFLEdBQUcsT0FBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFFLENBQUMsT0FBTyxDQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxpSkFBaUosQ0FBQyxDQUFDLENBQUM7UUFDelMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxhQUFhLENBQUMsQ0FBQyxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUM3TCxDQUFDLFVBQVUsRUFBRSxFQUFFLEdBQUcsT0FBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFFLENBQUMsV0FBVyxDQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSx5RkFBeUYsQ0FBQyxDQUFDLENBQUM7UUFDdE4sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxhQUFhLENBQUM7WUFDdkQsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRTtZQUNqSCxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO1NBQy9HLENBQUMsRUFBRSxnQkFBZ0IsRUFDaEIsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxDQUFDLFdBQVcsQ0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsNkpBQTZKLENBQUMsQ0FBQyxDQUFDO1FBQ3pULElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFLElBQUksYUFBYSxDQUFDO1lBQ25ELEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUU7WUFDNUcsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRTtTQUNwSCxDQUFDLEVBQUUsbUJBQW1CLEVBQ25CLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxPQUFPLENBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLHlKQUF5SixDQUFDLENBQUMsQ0FBQztRQUNqVCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRSxJQUFJLGFBQWEsQ0FBQztZQUN0RCxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO1lBQzNHLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUU7U0FDcEgsQ0FBQyxFQUFFLG1CQUFtQixFQUNuQixDQUFDLFVBQVUsRUFBRSxFQUFFO1lBQ1gsSUFBSSxPQUFPLEdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRXRDLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUMxRixDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxrSEFBa0gsQ0FBQyxDQUFDLENBQUM7UUFDMUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxjQUFjLEVBQUUsSUFBSSxhQUFhLENBQUM7WUFDeEQsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRTtZQUMzRyxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO1NBQ3BILENBQUMsRUFBRSxtQkFBbUIsRUFDbkIsQ0FBQyxVQUFVLEVBQUUsRUFBRTtZQUNYLElBQUksT0FBTyxHQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVDLElBQUksTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztZQUVyQyxPQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDMUYsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsc0hBQXNILENBQUMsQ0FBQyxDQUFDO1FBQzlJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksYUFBYSxDQUFDO1lBQ2pELEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUU7U0FDOUcsQ0FBQyxFQUFFLElBQUksU0FBUyxDQUFDLG1CQUFtQixDQUFDLEVBQ2xDLENBQUMsVUFBVSxFQUFFLEVBQUU7WUFDWCxJQUFJLE9BQU8sR0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QyxJQUFJLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFckMsSUFBSSxPQUFPLEdBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzVELElBQUksTUFBTSxHQUFZLEVBQUUsQ0FBQztZQUN6QixLQUFLLElBQUksQ0FBQyxJQUFJLE9BQU8sRUFBRTtnQkFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUN4RDtZQUVELE9BQU8sTUFBTSxDQUFDO1FBRWxCLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLDJNQUEyTSxDQUFDLENBQUMsQ0FBQztJQUV2TyxDQUFDO0lBRU0sT0FBTyxDQUFDLFNBQW9CLEVBQUUsWUFBbUIsRUFBRSxhQUFxQjtRQUUzRSxJQUFJLEtBQUssR0FBVyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV6QyxRQUFRLFNBQVMsRUFBRTtZQUNmLEtBQUssU0FBUyxDQUFDLElBQUk7Z0JBQ2YsSUFBSSxhQUFhLENBQUMsSUFBSSxJQUFJLG1CQUFtQixJQUFJLGFBQWEsQ0FBQyxJQUFJLElBQUksaUJBQWlCLEVBQUU7b0JBQ3RGLE9BQU8sS0FBSyxHQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNoRDtxQkFBTSxJQUFJLGFBQWEsQ0FBQyxJQUFJLElBQUksb0JBQW9CLEVBQUU7b0JBQ25ELE9BQU8sS0FBSyxHQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNqRDtxQkFBTTtvQkFDSCxPQUFPLEtBQUssR0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDaEQ7WUFFTCxLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUNoQixPQUFPLEtBQUssQ0FBQyxhQUFhLENBQVMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVGLGtEQUFrRDtZQUV0RCxLQUFLLFNBQVMsQ0FBQyxPQUFPO2dCQUNsQixPQUFPLEtBQUssQ0FBQyxhQUFhLENBQVMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVGLGdEQUFnRDtZQUVwRCxLQUFLLFNBQVMsQ0FBQyxZQUFZO2dCQUN2QixPQUFPLEtBQUssQ0FBQyxhQUFhLENBQVMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzdGLGlEQUFpRDtZQUVyRCxLQUFLLFNBQVMsQ0FBQyxjQUFjO2dCQUN6QixPQUFPLEtBQUssQ0FBQyxhQUFhLENBQVMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzdGLGlEQUFpRDtZQUVyRCxLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUNoQixPQUFPLEtBQUssSUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxLQUFLLFNBQVMsQ0FBQyxRQUFRO2dCQUNuQixPQUFPLEtBQUssSUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxLQUFLLFNBQVMsQ0FBQyxpQkFBaUI7Z0JBQzVCLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1NBRXBFO0lBR0wsQ0FBQztJQUVNLFdBQVcsQ0FBQyxLQUFZO1FBQzNCLE9BQU8sR0FBRyxHQUFXLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO0lBQzNDLENBQUM7Q0FHSjtBQUVELE1BQU0sT0FBTyxpQkFBa0IsU0FBUSxhQUFhO0lBRWhELElBQUk7UUFFQSxJQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQztRQUU3QixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztRQUV6QixJQUFJLENBQUMsV0FBVyxHQUFHLGFBQWEsQ0FBQTtRQUVoQyxJQUFJLENBQUMsY0FBYyxHQUFHO1lBQ2xCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxtQkFBbUIsRUFBRTtZQUNoRixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUNuRCxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUN0RCxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUNuRCxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUNyRCxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtZQUMxRCxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtTQUUvRCxDQUFDO1FBRUYseUdBQXlHO1FBQ3pHLElBQUksQ0FBQyxZQUFZLEdBQUc7WUFDaEIsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFO1lBQ2hELE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRTtZQUNsRCxRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUU7WUFDbkQsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFO1lBQ3BELE1BQU0sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRTtZQUNsRCxXQUFXLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUU7U0FDMUQsQ0FBQTtJQUVMLENBQUM7SUFFTSxXQUFXO1FBQ2QsT0FBTyxTQUFTLENBQUMsWUFBWSxDQUFDO0lBQ2xDLENBQUM7SUFFTSxNQUFNLENBQUMsS0FBWSxFQUFFLElBQVU7UUFFbEMsSUFBSSxJQUFJLElBQUksbUJBQW1CLEVBQUU7WUFDN0IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFFRCxJQUFJLElBQUksSUFBSSxnQkFBZ0IsSUFBSSxJQUFJLElBQUksa0JBQWtCLElBQUksSUFBSSxJQUFJLG1CQUFtQixFQUFFO1lBQ3ZGLE9BQU87Z0JBQ0gsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsS0FBSyxFQUFXLEtBQUssQ0FBQyxLQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzthQUM3QyxDQUFBO1NBQ0o7SUFFTCxDQUFDO0lBRU0sT0FBTyxDQUFDLFNBQW9CLEVBQUUsWUFBbUIsRUFBRSxhQUFxQjtRQUUzRSxJQUFJLEtBQUssR0FBVyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV6QyxRQUFRLFNBQVMsRUFBRTtZQUNmLEtBQUssU0FBUyxDQUFDLElBQUk7Z0JBQ2YsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsS0FBSztnQkFDaEIsT0FBTyxLQUFLLEdBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFFLENBQUM7WUFFbkQsS0FBSyxTQUFTLENBQUMsT0FBTztnQkFDbEIsT0FBTyxLQUFLLEdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFakQsS0FBSyxTQUFTLENBQUMsWUFBWTtnQkFDdkIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsY0FBYztnQkFDekIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsS0FBSztnQkFDaEIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsS0FBSyxTQUFTLENBQUMsUUFBUTtnQkFDbkIsT0FBTyxLQUFLLElBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7U0FFckQ7SUFHTCxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQVk7UUFDM0IsT0FBTyxHQUFHLEdBQVcsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7SUFDM0MsQ0FBQztDQUdKO0FBRUQsTUFBTSxDQUFDLElBQUksaUJBQWlCLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0FBQ3ZELE1BQU0sQ0FBQyxJQUFJLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztBQUNyRCxNQUFNLENBQUMsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7QUFDekQsTUFBTSxDQUFDLElBQUksbUJBQW1CLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDO0FBQzNELE1BQU0sQ0FBQyxJQUFJLG9CQUFvQixHQUFHLElBQUksb0JBQW9CLEVBQUUsQ0FBQztBQUM3RCwyQkFBMkIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ2xELE1BQU0sQ0FBQyxJQUFJLFVBQVUsR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsSUFBSSxtQkFBbUIsR0FBRyxJQUFJLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JFLE1BQU0sQ0FBQyxJQUFJLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLEVBQUUsQ0FBQztBQUN2RCxNQUFNLENBQUMsSUFBSSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztBQUNyQyxNQUFNLENBQUMsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUVuQyxNQUFNLENBQUMsSUFBSSxXQUFXLEdBQUcsSUFBSSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLElBQUksU0FBUyxHQUFHLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2xELE1BQU0sQ0FBQyxJQUFJLFVBQVUsR0FBRyxJQUFJLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNwRCxNQUFNLENBQUMsSUFBSSxhQUFhLEdBQUcsSUFBSSxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDMUQsTUFBTSxDQUFDLElBQUksV0FBVyxHQUFHLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBRXRELE1BQU0sQ0FBQyxJQUFJLHNCQUFzQixHQUEyQjtJQUN4RCxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsRUFBRSxnQkFBZ0I7SUFDN0MsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsRUFBRSxrQkFBa0I7SUFDckQsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLEVBQUUsb0JBQW9CO0lBQ2pELENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLG1CQUFtQjtJQUMvQyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxpQkFBaUI7SUFDM0MsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUTtDQUNwQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9rZW5UeXBlIH0gZnJvbSBcIi4uL2xleGVyL1Rva2VuLmpzXCI7XHJcbmltcG9ydCB7IEFycmF5VHlwZSB9IGZyb20gXCIuL0FycmF5LmpzXCI7XHJcbmltcG9ydCB7IEludGVyZmFjZSwgS2xhc3MsIHNldEJvb2xlYW5QcmltaXRpdmVUeXBlQ29weSB9IGZyb20gXCIuL0NsYXNzLmpzXCI7XHJcbmltcG9ydCB7IE9iamVjdENsYXNzIH0gZnJvbSBcIi4vT2JqZWN0Q2xhc3MuanNcIjtcclxuaW1wb3J0IHsgTWV0aG9kLCBQYXJhbWV0ZXJsaXN0LCBQcmltaXRpdmVUeXBlLCBUeXBlLCBWYWx1ZSB9IGZyb20gXCIuL1R5cGVzLmpzXCI7XHJcbmltcG9ydCB7IEludGVnZXJDbGFzcyB9IGZyb20gXCIuL2JveGVkVHlwZXMvSW50ZWdlckNsYXNzLmpzXCI7XHJcbmltcG9ydCB7IEZsb2F0Q2xhc3MgfSBmcm9tIFwiLi9ib3hlZFR5cGVzL0Zsb2F0Q2xhc3MuanNcIjtcclxuaW1wb3J0IHsgQ2hhcmFjdGVyQ2xhc3MgfSBmcm9tIFwiLi9ib3hlZFR5cGVzL0NoYXJhY3RlckNsYXNzLmpzXCI7XHJcbmltcG9ydCB7IEJvb2xlYW5DbGFzcyB9IGZyb20gXCIuL2JveGVkVHlwZXMvQm9vbGVhbkNsYXNzLmpzXCI7XHJcbmltcG9ydCB7IERvdWJsZUNsYXNzIH0gZnJvbSBcIi4vYm94ZWRUeXBlcy9Eb3VibGVDbGFzcy5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE51bGxUeXBlIGV4dGVuZHMgVHlwZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcIm51bGxcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXN1bHRUeXBlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBzZWNvbmRPcGVyYW5kVHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZDogVmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNhbkNhc3RUbyh0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuICh0eXBlIGluc3RhbmNlb2YgS2xhc3MgfHwgdHlwZSBpbnN0YW5jZW9mIEludGVyZmFjZSk7XHJcbiAgICB9XHJcbiAgICBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZXF1YWxzKHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gKHR5cGUgaW5zdGFuY2VvZiBLbGFzcyB8fCB0eXBlIGluc3RhbmNlb2YgSW50ZXJmYWNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJudWxsXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWYXJUeXBlIGV4dGVuZHMgVHlwZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcInZhclwiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlc3VsdFR5cGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIHNlY29uZE9wZXJhbmRUeXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kOiBWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY2FuQ2FzdFRvKHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gKHR5cGUgaW5zdGFuY2VvZiBLbGFzcyB8fCB0eXBlIGluc3RhbmNlb2YgSW50ZXJmYWNlKTtcclxuICAgIH1cclxuICAgIGNhc3RUbyh2YWx1ZTogVmFsdWUsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlcXVhbHModHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiAodHlwZSBpbnN0YW5jZW9mIEtsYXNzIHx8IHR5cGUgaW5zdGFuY2VvZiBJbnRlcmZhY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcInZhclwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW50UHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcImludFwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJnYW56ZSBaYWhsXCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIlN0cmluZ1wiOiBzdHJpbmdQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubWludXNdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubXVsdGlwbGljYXRpb25dOiB7IFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tb2R1bG9dOiB7IFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZGl2aXNpb25dOiB7IFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVQbHVzXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRvdWJsZU1pbnVzXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5lZ2F0aW9uXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnRpbGRlXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG5cclxuICAgICAgICAgICAgLy8gYmluYXJ5IG9wc1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLk9SXTogeyBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLlhPUl06IHsgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5hbXBlcnNhbmRdOiB7IFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuc2hpZnRMZWZ0XTogeyBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnNoaWZ0UmlnaHRdOiB7IFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuc2hpZnRSaWdodFVuc2lnbmVkXTogeyBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRoaXMuY2FuQ2FzdFRvbGlzdCA9IFtmbG9hdFByaW1pdGl2ZVR5cGUsIGRvdWJsZVByaW1pdGl2ZVR5cGUsIHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGNoYXJQcmltaXRpdmVUeXBlXTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7XHJcbiAgICAgICAgICAgIFwiZmxvYXRcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcImRvdWJsZVwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiU3RyaW5nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcImNoYXJcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiaW50XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJJbnRlZ2VyXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuaW50ZWdlckNvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBmbG9hdFByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBkb3VibGVQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IGNoYXJQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFN0cmluZy5mcm9tQ2hhckNvZGUoPG51bWJlcj52YWx1ZS52YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kPzogVmFsdWUpOiBhbnkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSA8bnVtYmVyPihmaXJzdE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubWludXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZCA9PSBudWxsKSByZXR1cm4gLXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5tdWx0aXBsaWNhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZGl2aXNpb246XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IGludFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC50cnVuYyh2YWx1ZSAvIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAvIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubW9kdWxvOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBpbnRQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmModmFsdWUgJSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRvdWJsZVBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUrKztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRvdWJsZU1pbnVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLS07XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5uZWdhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAtdmFsdWU7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS50aWxkZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiB+dmFsdWU7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8ICg8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubm90RXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5PUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSB8IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuWE9SOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIF4gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5hbXBlcnNhbmQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgJiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnNoaWZ0TGVmdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8PCA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnNoaWZ0UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj4gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj4+IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIDxudW1iZXI+dmFsdWUudmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0UHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gXCJmbG9hdFwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJGbGllw59rb21tYXphaGwgbWl0IGVpbmZhY2hlciBHZW5hdWlna2VpdFwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUucGx1c106IHsgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiU3RyaW5nXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5taW51c106IHsgXCJub25lXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tdWx0aXBsaWNhdGlvbl06IHsgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kaXZpc2lvbl06IHsgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVQbHVzXTogeyBcIm5vbmVcIjogZmxvYXRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlTWludXNdOiB7IFwibm9uZVwiOiBmbG9hdFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5uZWdhdGlvbl06IHsgXCJub25lXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRoaXMuY2FuQ2FzdFRvbGlzdCA9IFtpbnRQcmltaXRpdmVUeXBlLCBzdHJpbmdQcmltaXRpdmVUeXBlLCBkb3VibGVQcmltaXRpdmVUeXBlXTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7XHJcbiAgICAgICAgICAgIFwiaW50XCI6IHsgYXV0b21hdGljOiBmYWxzZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcImZsb2F0XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJTdHJpbmdcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiRmxvYXRcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcIkRvdWJsZVwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuZmxvYXRpbmdQb2ludENvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IGludFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogTWF0aC50cnVuYyg8bnVtYmVyPnZhbHVlLnZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBkb3VibGVQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gPG51bWJlcj4oZmlyc3RPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUucGx1czpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gc3RyaW5nUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm1pbnVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQgPT0gbnVsbCkgcmV0dXJuIC12YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubXVsdGlwbGljYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRpdmlzaW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC8gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kb3VibGVQbHVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlKys7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kb3VibGVNaW51czpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS0tO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubmVnYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLXZhbHVlO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPCAoPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDw9IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5lcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIDxudW1iZXI+dmFsdWUudmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvdWJsZVByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBQcmltaXRpdmVUeXBlIHtcclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwiZG91YmxlXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcIkZsaWXDn2tvbW1hemFobCBtaXQgZG9wcGVsdGVyIEdlbmF1aWdrZWl0XCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcImludFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiU3RyaW5nXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5taW51c106IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm11bHRpcGxpY2F0aW9uXTogeyBcImludFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kaXZpc2lvbl06IHsgXCJpbnRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlUGx1c106IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVNaW51c106IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5uZWdhdGlvbl06IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlcl06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlcl06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJPckVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyT3JFcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdEVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0aGlzLmNhbkNhc3RUb2xpc3QgPSBbaW50UHJpbWl0aXZlVHlwZSwgc3RyaW5nUHJpbWl0aXZlVHlwZSwgZmxvYXRQcmltaXRpdmVUeXBlXTtcclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHtcclxuICAgICAgICAgICAgXCJpbnRcIjogeyBhdXRvbWF0aWM6IGZhbHNlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcImZsb2F0XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcIlN0cmluZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJGbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiRG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuZmxvYXRpbmdQb2ludENvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IGludFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogTWF0aC50cnVuYyg8bnVtYmVyPnZhbHVlLnZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBmbG9hdFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kPzogVmFsdWUpOiBhbnkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSA8bnVtYmVyPihmaXJzdE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubWludXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZCA9PSBudWxsKSByZXR1cm4gLXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5tdWx0aXBsaWNhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZGl2aXNpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRvdWJsZVBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUrKztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRvdWJsZU1pbnVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLS07XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5uZWdhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAtdmFsdWU7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8ICg8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubm90RXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIlwiICsgPG51bWJlcj52YWx1ZS52YWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQm9vbGVhblByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBQcmltaXRpdmVUeXBlIHtcclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcImJvb2xlYW5cIjtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFwiYm9vbGVzY2hlciBXZXJ0ICh0cnVlIG9kZXIgZmFsc2UpXCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcIlN0cmluZ1wiOiBzdHJpbmdQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuYW5kXTogeyBcImJvb2xlYW5cIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5vcl06IHsgXCJib29sZWFuXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90XTogeyBcIm5vbmVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJib29sZWFuXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwiYm9vbGVhblwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY2FuQ2FzdFRvTWFwID0ge1xyXG4gICAgICAgICAgICBcIlN0cmluZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJib29sZWFuXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJCb29sZWFuXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuYm9vbGVhbkNvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gPGJvb2xlYW4+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmFuZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiA8Ym9vbGVhbj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5vcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSB8fCA8Ym9vbGVhbj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXZhbHVlO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIDxib29sZWFuPnZhbHVlLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWb2lkUHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwidm9pZFwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJsZWVyZXIgUsO8Y2tnYWJld2VydFwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7fTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvVG9rZW5UeXBlKCk6IFRva2VuVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIFRva2VuVHlwZS5rZXl3b3JkVm9pZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSk6IFZhbHVlIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJ2b2lkXCI7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0cmluZ1ByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBLbGFzcyB7XHJcblxyXG4gICAgcHJpdmF0ZSBvcGVyYXRpb25UYWJsZTogeyBbb3BlcmF0aW9uOiBudW1iZXJdOiB7IFt0eXBlbmFtZTogc3RyaW5nXTogVHlwZSB9IH1cclxuXHJcbiAgICBwdWJsaWMgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLnN0cmluZ0NvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSZXN1bHRUeXBlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBzZWNvbmRPcGVyYW5kVHlwZT86IFR5cGUpOiBUeXBlIHtcclxuXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSBUb2tlblR5cGUua2V5d29yZEluc3RhbmNlb2YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldFJlc3VsdFR5cGUob3BlcmF0aW9uLCBzZWNvbmRPcGVyYW5kVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb3BUeXBlTWFwID0gdGhpcy5vcGVyYXRpb25UYWJsZVtvcGVyYXRpb25dO1xyXG5cclxuICAgICAgICBpZiAob3BUeXBlTWFwID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIE9wZXJhdGlvbiBub3QgcG9zc2libGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWNvbmRPcGVyYW5kVHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcFR5cGVNYXBbc2Vjb25kT3BlcmFuZFR5cGUuaWRlbnRpZmllcl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3BUeXBlTWFwW1wibm9uZVwiXTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJhc2VDbGFzczogS2xhc3MpIHtcclxuICAgICAgICBzdXBlcihcIlN0cmluZ1wiLCBudWxsLCBcIkVpbiBPYmpla3QgZGVyIEtsYXNzZSBTdHJpbmcgc3BlaWNoZXJ0IGVpbmUgWmVpY2hlbmtldHRlLlwiKTtcclxuICAgICAgICB0aGlzLmJhc2VDbGFzcyA9IGJhc2VDbGFzcztcclxuICAgICAgICBsZXQgc3RyaW5nQ2xhc3MgPSB0aGlzO1xyXG4gICAgICAgIGJhc2VDbGFzcy5tZXRob2RzLmZpbHRlcihtID0+IG0uaWRlbnRpZmllciA9PSBcInRvU3RyaW5nXCIpLmZvckVhY2gobSA9PiBtLnJldHVyblR5cGUgPSBzdHJpbmdDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLm9wZXJhdGlvblRhYmxlID0ge1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnBsdXNdOiB7XHJcbiAgICAgICAgICAgICAgICBcIlN0cmluZ1wiOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAgICAgXCJmbG9hdFwiOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAgICAgXCJib29sZWFuXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIFwiY2hhclwiOiBzdHJpbmdQcmltaXRpdmVUeXBlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIm51bGxcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJTdHJpbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwibnVsbFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJPckVxdWFsXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwibGVuZ3RoXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgaW50UHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPnBhcmFtZXRlcnNbMF0udmFsdWUpLmxlbmd0aDsgfSwgZmFsc2UsIGZhbHNlLCBcIkzDpG5nZSBkZXIgWmVpY2hlbmtldHRlLCBkLmguIEFuemFobCBkZXIgWmVpY2hlbiBpbiBkZXIgWmVpY2hlbmtldHRlLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImNoYXJBdFwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIlBvc2l0aW9uXCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBjaGFyUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPnBhcmFtZXRlcnNbMF0udmFsdWUpLmNoYXJBdCg8bnVtYmVyPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJaZWljaGVuIGFuIGRlciBnZWdlYmVuZW4gUG9zaXRpb24uXFxuKipCZW0uOiAqKiBQb3NpdGlvbiA9PSAwIGJlZGV1dGV0IGRhcyBlcnN0ZSBaZWljaGVuIGluIGRlciBaZWljaGVua2V0dGUsIFBvc2l0aW9uID09IDEgZGFzIHp3ZWl0ZSB1c3cuIC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJlcXVhbHNcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgYm9vbGVhblByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiA8c3RyaW5nPnBhcmFtZXRlcnNbMF0udmFsdWUgPT0gPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGdlbmF1IGRhbm4gKip3YWhyKiogenVyw7xjaywgd2VubiBkaWUgendlaSBaZWljaGVua2V0dGVuIMO8YmVyZWluc3RpbW1lbiAodW50ZXIgQmVyw7xja3NpY2h0aWd1bmcgdm9uIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcpLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImNvbXBhcmVUb1wiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5sb2NhbGVDb21wYXJlKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpLCAnZGUnLCB7IGNhc2VGaXJzdDogJ3VwcGVyJyB9KTsgfSwgZmFsc2UsIGZhbHNlLCBcIlZlcmdsZWljaHQgZGVuIFN0cmluZyBtaXQgZGVtIMO8YmVyZ2ViZW5lbiBTdHJpbmcuIEdpYnQgLTEgenVyw7xjaywgZmFsbHMgZXJzdGVyZXIgaW0gQWxwaGFiZXQgdm9yIGxldHp0ZXJlbSBzdGVodCwgKzEsIGZhbGxzIHVtZ2VrZWhydCB1bmQgMCwgZmFsbHMgYmVpZGUgU3RyaW5ncyBpZGVudGlzY2ggc2luZC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJjb21wYXJlVG9JZ25vcmVDYXNlXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmxvY2FsZUNvbXBhcmUoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSksICdkZScsIHsgc2Vuc2l0aXZpdHk6IFwiYWNjZW50XCIgfSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJWZXJnbGVpY2h0IGRlbiBTdHJpbmcgbWl0IGRlbSDDvGJlcmdlYmVuZW4gU3RyaW5nLiBHaWJ0IC0xIHp1csO8Y2ssIGZhbGxzIGVyc3RlcmVyIGltIEFscGhhYmV0IHZvciBsZXR6dGVyZW0gc3RlaHQsICsxLCBmYWxscyB1bWdla2VocnQgdW5kIDAsIGZhbGxzIGJlaWRlIFN0cmluZ3MgaWRlbnRpc2NoIHNpbmQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiZXF1YWxzSWdub3JlQ2FzZVwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudG9Mb3dlckNhc2UoKSA9PSAoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkudG9Mb3dlckNhc2UoKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGdlbmF1IGRhbm4gKip3YWhyKiogenVyw7xjaywgd2VubiBkaWUgendlaSBaZWljaGVua2V0dGVuIMO8YmVyZWluc3RpbW1lbiAoKipvaG5lKiogQmVyw7xja3NpY2h0aWd1bmcgdm9uIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcpLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImVuZHNXaXRoXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwic3VmZml4XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuZW5kc1dpdGgoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBnZW5hdSBkYW5uICoqd2FocioqIHp1csO8Y2ssIHdlbm4gZGllIFplaWNoZW5rZXR0ZSBtaXQgZGVyIMO8YmVyZ2ViZW5lbiBaZWljaGVua2V0dGUgKCA9IHN1ZmZpeCkgZW5kZXQuIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcgd2lyZCBkYWJlaSBiZXLDvGNrc2ljaHRpZ3QhXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwic3RhcnRzV2l0aFwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcInByw6RmaXhcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5zdGFydHNXaXRoKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiAqKndhaHIqKiB6dXLDvGNrLCB3ZW5uIGRpZSBaZWljaGVua2V0dGUgbWl0IGRlciDDvGJlcmdlYmVuZW4gWmVpY2hlbmtldHRlICggPSBwcsOkZml4KSBiZWdpbm50LiBLbGVpbi0vR3Jvw59zY2hyZWlidW5nIHdpcmQgZGFiZWkgYmVyw7xja3NpY2h0aWd0IVwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInRvTG93ZXJDYXNlXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudG9Mb2NhbGVMb3dlckNhc2UoKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIFplaWNoZW5rZXR0ZSB6dXLDvGNrLCBkaWUgc2ljaCBlcmdpYnQsIHdlbm4gbWFuIGluIGRlciBnZWdlYmVuZW4gWmVpY2hua2V0dGUgamVkZW4gR3Jvw59idWNoc3RhYmVuIGR1cmNoIGRlbiBlbnRzcHJlY2hlbmRlbiBLbGVpbmJ1Y2hzdGFiZW4gZXJzZXR6dC5cXG4qKkJlbWVya3VuZzogKiogRGllIE1ldGhvZGUgdmVyw6RuZGVydCBkaWUgWmVpY2hlbmtldHRlIHNlbGJzdCBuaWNodC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJ0b1VwcGVyQ2FzZVwiLCBuZXcgUGFyYW1ldGVybGlzdChbXSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnRvTG9jYWxlVXBwZXJDYXNlKCk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBaZWljaGVua2V0dGUgenVyw7xjaywgZGllIHNpY2ggZXJnaWJ0LCB3ZW5uIG1hbiBpbiBkZXIgZ2VnZWJlbmVuIFplaWNobmtldHRlIGplZGVuIEtsZWluYnVjaHN0YWJlbiBkdXJjaCBkZW4gZW50c3ByZWNoZW5kZW4gR3Jvw59idWNoc3RhYmVuIGVyc2V0enQuXFxuKipCZW1lcmt1bmc6ICoqIERpZSBNZXRob2RlIHZlcsOkbmRlcnQgZGllIFplaWNoZW5rZXR0ZSBzZWxic3QgbmljaHQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwic3Vic3RyaW5nXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwiYmVnaW5JbmRleFwiLCB0eXBlOiBpbnRQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuc3Vic3RyaW5nKDxudW1iZXI+KHBhcmFtZXRlcnNbMV0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGFzIGhpbnRlcmUgRW5kZSBkZXIgWmVpY2hlbmtldHRlIGFiICoqYmVnaW5JbmRleCoqIHp1csO8Y2suICoqYmVnaW5JbmRleCoqID09IDEgYmVkZXV0ZXQsIGRhc3MgZGllIFplaWNoZW5rZXR0ZSBhYiBkZW0gMi4oISkgWmVpY2hlbiB6dXLDvGNrZ2VnZWJlbiB3aXJkLiBcIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJzdWJzdHJpbmdcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJiZWdpbkluZGV4XCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICB7IGlkZW50aWZpZXI6IFwiZW5kSW5kZXhcIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnN1YnN0cmluZyg8bnVtYmVyPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSwgPG51bWJlcj4ocGFyYW1ldGVyc1syXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgVGVpbC1aZWljaGVua2V0dGUgdm9uICoqYmVnaW5JbmRleCoqIGJpcyAqKmVuZEluZGV4KiogenVyw7xjay5cXG4qKlZvcnNpY2h0OiAqKiBiZWdpbkluZGV4IHVuZCBlbmRJbmRleCBzaW5kIG51bGxiYXNpZXJ0LCBkLmguIGJlZ2luSW5kZXggPT0gMCBiZWRldXRldCBkaWUgUG9zaXRpb24gdm9yIGRlbSBlcnN0ZW4gWmVpY2hlbi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJ0cmltXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudHJpbSgpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgWmVpY2hlbmtldHRlIHp1csO8Y2ssIGRpZSBlbnRzdGVodCwgd2VubiBtYW4gYW0gQW5mYW5nIHVuZCBFbmRlIGRlciBaZWljaGVua2V0dGUgYWxsZSBMZWVyemVpY2hlbiwgVGFicyB1bmQgWmVpbGVudW1icsO8Y2hlIGVudGZlcm50LlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImlzRW1wdHlcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW10pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkgPT0gXCJcIjsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiB3YWhyIHp1csO8Y2ssIHdlbm4gZGllIFplaWNoZW5rZXR0ZSBsZWVyIGlzdC5cXG4qKldhcm51bmc6ICoqIERpZSBNZXRob2RlIGRhcmYgbmljaHQgbWl0IGRlbSAnJydudWxsJycnLU9iamVrdCBhdWZnZXJ1ZmVuIHdlcmRlbiFcIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJpbmRleE9mXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmluZGV4T2YoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgZXJzdGUgUG9zaXRpb24genVyw7xjaywgYW4gZGVyICoqb3RoZXJTdHJpbmcqKiBpbiBkZXIgWmVpY2hlbmtldHRlIGdlZnVuZGVuIHdpcmQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiaW5kZXhPZlwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJmcm9tSW5kZXhcIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIF0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5pbmRleE9mKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpLCA8bnVtYmVyPihwYXJhbWV0ZXJzWzJdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBlcnN0ZSBQb3NpdGlvbiB6dXLDvGNrLCBhbiBkZXIgKipvdGhlclN0cmluZyoqIGluIGRlciBaZWljaGVua2V0dGUgZ2VmdW5kZW4gd2lyZC4gRGFiZWkgd2lyZCBlcnN0IGJlaSBmcm9tSW5kZXggbWl0IGRlciBTdWNoZSBiZWdvbm5lbi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJsYXN0SW5kZXhPZlwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5sYXN0SW5kZXhPZig8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBsZXR6dGUgUG9zaXRpb24genVyw7xjaywgYmVpIGRlciBvdGhlclN0cmluZyBpbiBkZXIgWmVpY2hlbmtldHRlIGdlZnVuZGVuIHdpcmQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwibGFzdEluZGV4T2ZcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwiZnJvbUluZGV4XCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgaW50UHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkubGFzdEluZGV4T2YoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSksIDxudW1iZXI+KHBhcmFtZXRlcnNbMl0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIGxldHp0ZSBQb3NpdGlvbiB6dXLDvGNrLCBiZWkgZGVyIG90aGVyU3RyaW5nIGluIGRlciBaZWljaGVua2V0dGUgZ2VmdW5kZW4gd2lyZC4gRGFiZWkgd2lyZCBlcnN0IGJlaSBmcm9tSW5kZXggLSB2b24gcmVjaHRzIGhlciBiZWdpbm5lbmQgLSBnZXN1Y2h0LlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInJlcGxhY2VcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwidGFyZ2V0XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlcGxhY2VtZW50XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkucmVwbGFjZSg8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSwgPHN0cmluZz4ocGFyYW1ldGVyc1syXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiRXJzZXR6dCBhbGxlIFZvcmtvbW1lbiB2b24gKip0YXJnZXQqKiBkdXJjaCAqKnJlcGxhY2VtZW50KiogdW5kIGdpYnQgZGllIGVudHN0YW5kZW5lIFplaWNoZW5rZXR0ZSB6dXLDvGNrLiBEaWUgWmVpY2hlbmtldHRlIHNlbGJzdCB3aXJkIG5pY2h0IHZlcsOkbmRlcnQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwicmVwbGFjZUFsbFwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZWdleFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZXBsYWNlbWVudFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgXSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZ0V4cCA9IG5ldyBSZWdFeHAocGF0dGVybiwgJ2cnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5yZXBsYWNlKHJlZ0V4cCwgPHN0cmluZz4ocGFyYW1ldGVyc1syXS52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSwgZmFsc2UsIFwiRHVyY2hzdWNodCBkZW4gU3RyaW5nIG1pdCBkZW0gcmVndWzDpHJlbiBBdXNkcnVjayAocmVnZXgpIHVuZCBlcnNldHp0ICoqYWxsZSoqIEZ1bmRzdGVsbGVuIGR1cmNoICoqcmVwbGFjZW1lbnQqKi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJyZXBsYWNlRmlyc3RcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwicmVnZXhcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwicmVwbGFjZW1lbnRcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIF0pLCBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSA8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGxldCByZWdFeHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5yZXBsYWNlKHJlZ0V4cCwgPHN0cmluZz4ocGFyYW1ldGVyc1syXS52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSwgZmFsc2UsIFwiRHVyY2hzdWNodCBkZW4gU3RyaW5nIG1pdCBkZW0gcmVndWzDpHJlbiBBdXNkcnVjayAocmVnZXgpIHVuZCBlcnNldHp0ICoqZGllIGVyc3RlKiogRnVuZHN0ZWxsZSBkdXJjaCAqKnJlcGxhY2VtZW50KiouXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwic3BsaXRcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwicmVnZXhcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIF0pLCBuZXcgQXJyYXlUeXBlKHN0cmluZ1ByaW1pdGl2ZVR5cGUpLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSA8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGxldCByZWdFeHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc3RyaW5ncyA9ICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuc3BsaXQocmVnRXhwKTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZXM6IFZhbHVlW10gPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHMgb2Ygc3RyaW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHsgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgdmFsdWU6IHMgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuXHJcbiAgICAgICAgICAgIH0sIGZhbHNlLCBmYWxzZSwgXCJUZWlsdCBkaWUgWmVpY2hlbmtldHRlIGFuIGRlbiBTdGVsbGVuLCBkaWUgZHVyY2ggZGVuIHJlZ3Vsw6RyZW4gQXVzZHJ1Y2sgKHJlZ2V4KSBkZWZpbmllcnQgc2luZCwgaW4gVGVpbGUgYXVmLiBEaWUgRnVuZHN0ZWxsZW4gZGVzIHJlZ2V4IHdlcmRlbiBkYWJlaSB3ZWdnZWxhc3Nlbi4gR2lidCBkaWUgVGVpbGUgYWxzIFN0cmluZy1BcnJheSB6dXLDvGNrLlwiKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kPzogVmFsdWUpOiBhbnkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSA8c3RyaW5nPihmaXJzdE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlIHx8IHNlY29uZE9wZXJhbmQudHlwZSA9PSBjaGFyUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gYm9vbGVhblByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8Ym9vbGVhbj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSwgJ2RlJywgeyBjYXNlRmlyc3Q6ICd1cHBlcicgfSkgPCAwO1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIDwgKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSwgJ2RlJywgeyBjYXNlRmlyc3Q6ICd1cHBlcicgfSkgPiAwO1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlID4gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSwgJ2RlJywgeyBjYXNlRmlyc3Q6ICd1cHBlcicgfSkgPD0gMDtcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSA8PSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmxvY2FsZUNvbXBhcmUoPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSksICdkZScsIHsgY2FzZUZpcnN0OiAndXBwZXInIH0pID49IDA7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgPj0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5lcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUua2V5d29yZEluc3RhbmNlb2Y6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuY29tcHV0ZShvcGVyYXRpb24sIGZpcnN0T3BlcmFuZCwgc2Vjb25kT3BlcmFuZCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnXCInICsgPHN0cmluZz52YWx1ZS52YWx1ZSArICdcIic7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJQcmltaXRpdmVUeXBlIGV4dGVuZHMgUHJpbWl0aXZlVHlwZSB7XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBcIlxcdTAwMDBcIjtcclxuXHJcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gXCJjaGFyXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcImVpbiBaZWljaGVuXCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcIlN0cmluZ1wiOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBcImNoYXJcIjogc3RyaW5nUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmVxdWFsXTogeyBcImNoYXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJjaGFyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyT3JFcXVhbF06IHsgXCJjaGFyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWxdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRoaXMuY2FuQ2FzdFRvbGlzdCA9IFtpbnRQcmltaXRpdmVUeXBlLCBmbG9hdFByaW1pdGl2ZVR5cGUsIGRvdWJsZVByaW1pdGl2ZVR5cGUsIHN0cmluZ1ByaW1pdGl2ZVR5cGVdO1xyXG4gICAgICAgIHRoaXMuY2FuQ2FzdFRvTWFwID0ge1xyXG4gICAgICAgICAgICBcImludFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJmbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiU3RyaW5nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJjaGFyXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJDaGFyYWN0ZXJcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvVG9rZW5UeXBlKCk6IFRva2VuVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIFRva2VuVHlwZS5jaGFyQ29uc3RhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhc3RUbyh2YWx1ZTogVmFsdWUsIHR5cGU6IFR5cGUpOiBWYWx1ZSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gaW50UHJpbWl0aXZlVHlwZSB8fCB0eXBlID09IGZsb2F0UHJpbWl0aXZlVHlwZSB8fCB0eXBlID09IGRvdWJsZVByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogKDxzdHJpbmc+dmFsdWUudmFsdWUpLmNoYXJDb2RlQXQoMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxzdHJpbmc+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3RFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwiJ1wiICsgPHN0cmluZz52YWx1ZS52YWx1ZSArIFwiJ1wiO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgdm9pZFByaW1pdGl2ZVR5cGUgPSBuZXcgVm9pZFByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBpbnRQcmltaXRpdmVUeXBlID0gbmV3IEludFByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBmbG9hdFByaW1pdGl2ZVR5cGUgPSBuZXcgRmxvYXRQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgZG91YmxlUHJpbWl0aXZlVHlwZSA9IG5ldyBEb3VibGVQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgYm9vbGVhblByaW1pdGl2ZVR5cGUgPSBuZXcgQm9vbGVhblByaW1pdGl2ZVR5cGUoKTtcclxuc2V0Qm9vbGVhblByaW1pdGl2ZVR5cGVDb3B5KGJvb2xlYW5QcmltaXRpdmVUeXBlKTtcclxuZXhwb3J0IHZhciBvYmplY3RUeXBlID0gbmV3IE9iamVjdENsYXNzKG51bGwpO1xyXG5leHBvcnQgdmFyIHN0cmluZ1ByaW1pdGl2ZVR5cGUgPSBuZXcgU3RyaW5nUHJpbWl0aXZlVHlwZShvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBjaGFyUHJpbWl0aXZlVHlwZSA9IG5ldyBDaGFyUHJpbWl0aXZlVHlwZSgpO1xyXG5leHBvcnQgdmFyIG51bGxUeXBlID0gbmV3IE51bGxUeXBlKCk7XHJcbmV4cG9ydCB2YXIgdmFyVHlwZSA9IG5ldyBWYXJUeXBlKCk7XHJcblxyXG5leHBvcnQgdmFyIEludGVnZXJUeXBlID0gbmV3IEludGVnZXJDbGFzcyhvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBGbG9hdFR5cGUgPSBuZXcgRmxvYXRDbGFzcyhvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBEb3VibGVUeXBlID0gbmV3IERvdWJsZUNsYXNzKG9iamVjdFR5cGUpO1xyXG5leHBvcnQgdmFyIENoYXJhY3RlclR5cGUgPSBuZXcgQ2hhcmFjdGVyQ2xhc3Mob2JqZWN0VHlwZSk7XHJcbmV4cG9ydCB2YXIgQm9vbGVhblR5cGUgPSBuZXcgQm9vbGVhbkNsYXNzKG9iamVjdFR5cGUpO1xyXG5cclxuZXhwb3J0IHZhciBUb2tlblR5cGVUb0RhdGFUeXBlTWFwOiB7IFt0dDogbnVtYmVyXTogVHlwZSB9ID0ge1xyXG4gICAgW1Rva2VuVHlwZS5pbnRlZ2VyQ29uc3RhbnRdOiBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgW1Rva2VuVHlwZS5mbG9hdGluZ1BvaW50Q29uc3RhbnRdOiBmbG9hdFByaW1pdGl2ZVR5cGUsXHJcbiAgICBbVG9rZW5UeXBlLmJvb2xlYW5Db25zdGFudF06IGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgW1Rva2VuVHlwZS5zdHJpbmdDb25zdGFudF06IHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICBbVG9rZW5UeXBlLmNoYXJDb25zdGFudF06IGNoYXJQcmltaXRpdmVUeXBlLFxyXG4gICAgW1Rva2VuVHlwZS5rZXl3b3JkTnVsbF06IG51bGxUeXBlXHJcbn0iXX0=