export var NVisibility;
(function (NVisibility) {
    NVisibility[NVisibility["public"] = 0] = "public";
    NVisibility[NVisibility["protected"] = 1] = "protected";
    NVisibility[NVisibility["private"] = 2] = "private";
})(NVisibility || (NVisibility = {}));
;
export class NType {
    constructor() {
        this.usagePositions = new Map();
        this.documentation = "";
    }
    canCastTo(otherType) {
        return this.getCastExpression(otherType) != null;
    }
    isPrimitive() {
        return false;
    }
}
export class NMethodInfo {
    constructor() {
        this.usagePositions = new Map();
        this.documentation = "";
        this.isAbstract = false;
        this.isStatic = false;
        this.isConstructor = false;
        this.isVirtual = false; // true, if child class has method with same signature
        this.reserveStackForLocalVariables = 0;
    }
    implements(m) {
        if (this.identifier != m.identifier)
            return false;
        if (this.returnType == null || this.returnType.identifier == "void") {
            if (m.returnType != null && m.returnType.identifier != "void")
                return false;
        }
        else {
            if (m.returnType.isPrimitive()) {
                if (m.returnType != this.returnType) {
                    return false;
                }
            }
            else if (!this.returnType.canCastTo(m.returnType)) {
                return false;
            }
        }
        if (this.parameterlist.parameters.length != m.parameterlist.parameters.length)
            return false;
        for (let i = 0; i < this.parameterlist.parameters.length; i++) {
            let myParameter = this.parameterlist.parameters[i];
            let mParameter = m.parameterlist.parameters[i];
            if (mParameter.type.isPrimitive()) {
                if (mParameter.type != myParameter.type) {
                    return false;
                }
            }
            else if (!mParameter.type.canCastTo(myParameter.type))
                return false;
        }
        return true;
    }
    hasEllipsis() {
        if (this.parameterlist.parameters.length == 0)
            return false;
        return this.parameterlist.parameters[this.parameterlist.parameters.length - 1].isEllipsis;
    }
    getParameterType(index) {
        return this.parameterlist.parameters[index].type;
    }
    getParameter(index) {
        return this.parameterlist.parameters[index];
    }
}
export class NParameterlist {
    constructor(parameters) {
        this.parameters = parameters;
        this.computeId();
    }
    computeId() {
        this.id = "(";
        let i = 0;
        while (i < this.parameters.length) {
            this.id += this.parameters[i].type.identifier;
            if (i < this.parameters.length - 1) {
                this.id += ", ";
            }
            i++;
        }
        this.id += ")";
    }
}
export class NAttributeInfo {
    constructor(name, type, isStatic, visibility, isFinal, documentation) {
        this.identifier = name;
        this.type = type;
        this.isStatic = isStatic;
        this.visibility = visibility;
        this.isFinal = isFinal;
        this.usagePositions = new Map();
        this.documentation = documentation;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTmV3VHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGllbnQvbmV3Y29tcGlsZXIvTmV3VHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQSxNQUFNLENBQU4sSUFBWSxXQUEwQztBQUF0RCxXQUFZLFdBQVc7SUFBRyxpREFBTSxDQUFBO0lBQUUsdURBQVMsQ0FBQTtJQUFFLG1EQUFPLENBQUE7QUFBQyxDQUFDLEVBQTFDLFdBQVcsS0FBWCxXQUFXLFFBQStCO0FBQUEsQ0FBQztBQVF2RCxNQUFNLE9BQWdCLEtBQUs7SUFBM0I7UUFFVyxtQkFBYyxHQUFtQixJQUFJLEdBQUcsRUFBRSxDQUFDO1FBSTNDLGtCQUFhLEdBQVcsRUFBRSxDQUFDO0lBcUJ0QyxDQUFDO0lBaEJHLFNBQVMsQ0FBQyxTQUFnQjtRQUN0QixPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUM7SUFDckQsQ0FBQztJQVVNLFdBQVc7UUFDZCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBRUo7QUFFRCxNQUFNLE9BQU8sV0FBVztJQUF4QjtRQUNJLG1CQUFjLEdBQW1CLElBQUksR0FBRyxFQUFFLENBQUM7UUFJM0Msa0JBQWEsR0FBVyxFQUFFLENBQUM7UUFHM0IsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUM1QixhQUFRLEdBQVksS0FBSyxDQUFDO1FBQzFCLGtCQUFhLEdBQVksS0FBSyxDQUFDO1FBQy9CLGNBQVMsR0FBWSxLQUFLLENBQUMsQ0FBQyxzREFBc0Q7UUFRbEYsa0NBQTZCLEdBQVcsQ0FBQyxDQUFDO0lBZ0Q5QyxDQUFDO0lBOUNHLFVBQVUsQ0FBQyxDQUFjO1FBQ3JCLElBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUMsVUFBVTtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQ2pELElBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FB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UDtRQUNELElBQUksQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDO0lBQ25CLENBQUM7Q0FDSjtBQWlCRCxNQUFNLE9BQU8sY0FBYztJQWV2QixZQUFZLElBQVksRUFBRSxJQUFXLEVBQUUsUUFBaUIsRUFBRSxVQUF1QixFQUM3RSxPQUFnQixFQUFFLGFBQXNCO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0NBRUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUb2tlbiwgVG9rZW5UeXBlIH0gZnJvbSBcIi4uL2NvbXBpbGVyL2xleGVyL1Rva2VuLmpzXCI7XHJcbmltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuLi9jb21waWxlci9wYXJzZXIvTW9kdWxlLmpzXCI7XHJcbmltcG9ydCB7IFRleHRQb3NpdGlvbldpdGhNb2R1bGUsIFVzYWdlUG9zaXRpb25zIH0gZnJvbSBcIi4uL2NvbXBpbGVyL3R5cGVzL1R5cGVzLmpzXCI7XHJcbmltcG9ydCB7IE5Qcm9ncmFtIH0gZnJvbSBcIi4vTlByb2dyYW0uanNcIjtcclxuXHJcbmV4cG9ydCBlbnVtIE5WaXNpYmlsaXR5IHsgcHVibGljLCBwcm90ZWN0ZWQsIHByaXZhdGUgfTtcclxuXHJcbmV4cG9ydCB0eXBlIE5FeHByZXNzaW9uID0ge1xyXG4gICAgY29uZGl0aW9uPzogc3RyaW5nO1xyXG4gICAgZXJyb3JtZXNzYWdlPzogc3RyaW5nO1xyXG4gICAgZTogc3RyaW5nOyAvLyBFeHByZXNzaW9uXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOVHlwZSB7XHJcblxyXG4gICAgcHVibGljIHVzYWdlUG9zaXRpb25zOiBVc2FnZVBvc2l0aW9ucyA9IG5ldyBNYXAoKTtcclxuICAgIHB1YmxpYyBkZWNsYXJhdGlvbjogVGV4dFBvc2l0aW9uV2l0aE1vZHVsZTtcclxuXHJcbiAgICBwdWJsaWMgaWRlbnRpZmllcjogc3RyaW5nO1xyXG4gICAgcHVibGljIGRvY3VtZW50YXRpb246IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0Q2FzdEV4cHJlc3Npb24ob3RoZXJUeXBlOiBOVHlwZSk6IE5FeHByZXNzaW9uOyAgICAgICAgLy8gZS5nLiBNYXRoLmZsb29yKCQxKVxyXG4gICAgYWJzdHJhY3QgY2FzdFRvKG90aGVyVHlwZTogTlR5cGUsIHZhbHVlOiBhbnkpOiBhbnk7XHJcblxyXG4gICAgY2FuQ2FzdFRvKG90aGVyVHlwZTogTlR5cGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDYXN0RXhwcmVzc2lvbihvdGhlclR5cGUpICE9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0T3BlcmF0b3JFeHByZXNzaW9uKG9wZXJhdG9yOiBUb2tlblR5cGUsIG90aGVyVHlwZT86IE5UeXBlKTogTkV4cHJlc3Npb247ICAgICAgIC8vIGUuZy4gJDEgKyAkMlxyXG4gICAgYWJzdHJhY3QgZ2V0T3BlcmF0b3JSZXN1bHRUeXBlKG9wZXJhdG9yOiBUb2tlblR5cGUsIG90aGVyVHlwZTogTlR5cGUpOiBOVHlwZTtcclxuICAgIGFic3RyYWN0IGNvbXB1dGUob3BlcmF0b3I6IFRva2VuVHlwZSwgb3RoZXJUeXBlOiBOVHlwZSwgdmFsdWUxOiBhbnksIHZhbHVlMj86IGFueSk6IGFueTtcclxuXHJcbiAgICBhYnN0cmFjdCBlcXVhbHMob3RoZXJUeXBlOiBOVHlwZSk6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGRlYnVnT3V0cHV0KHZhbHVlOiBhbnksIG1heExlbmd0aD86IG51bWJlcik6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgaXNQcmltaXRpdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5NZXRob2RJbmZvIHtcclxuICAgIHVzYWdlUG9zaXRpb25zOiBVc2FnZVBvc2l0aW9ucyA9IG5ldyBNYXAoKTtcclxuICAgIGRlY2xhcmF0aW9uOiBUZXh0UG9zaXRpb25XaXRoTW9kdWxlO1xyXG5cclxuICAgIGlkZW50aWZpZXI6IHN0cmluZztcclxuICAgIGRvY3VtZW50YXRpb246IHN0cmluZyA9IFwiXCI7XHJcbiAgICBzaWduYXR1cmU6IHN0cmluZztcclxuXHJcbiAgICBpc0Fic3RyYWN0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBpc1N0YXRpYzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgaXNDb25zdHJ1Y3RvcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgaXNWaXJ0dWFsOiBib29sZWFuID0gZmFsc2U7IC8vIHRydWUsIGlmIGNoaWxkIGNsYXNzIGhhcyBtZXRob2Qgd2l0aCBzYW1lIHNpZ25hdHVyZVxyXG5cclxuICAgIHBhcmFtZXRlcmxpc3Q6IE5QYXJhbWV0ZXJsaXN0O1xyXG4gICAgcmV0dXJuVHlwZT86IE5UeXBlO1xyXG4gICAgYW5ub3RhdGlvbj86IHN0cmluZztcclxuXHJcbiAgICBwcm9ncmFtPzogTlByb2dyYW07XHJcblxyXG4gICAgcmVzZXJ2ZVN0YWNrRm9yTG9jYWxWYXJpYWJsZXM6IG51bWJlciA9IDA7XHJcblxyXG4gICAgaW1wbGVtZW50cyhtOiBOTWV0aG9kSW5mbyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmKHRoaXMuaWRlbnRpZmllciAhPSBtLmlkZW50aWZpZXIpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZih0aGlzLnJldHVyblR5cGUgPT0gbnVsbCB8fCB0aGlzLnJldHVyblR5cGUuaWRlbnRpZmllciA9PSBcInZvaWRcIil7XHJcbiAgICAgICAgICAgIGlmKG0ucmV0dXJuVHlwZSAhPSBudWxsICYmIG0ucmV0dXJuVHlwZS5pZGVudGlmaWVyICE9IFwidm9pZFwiKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIGlmKG0ucmV0dXJuVHlwZS5pc1ByaW1pdGl2ZSgpKXtcclxuICAgICAgICAgICAgICAgIGlmKG0ucmV0dXJuVHlwZSAhPSB0aGlzLnJldHVyblR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZighdGhpcy5yZXR1cm5UeXBlLmNhbkNhc3RUbyhtLnJldHVyblR5cGUpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5wYXJhbWV0ZXJsaXN0LnBhcmFtZXRlcnMubGVuZ3RoICE9IG0ucGFyYW1ldGVybGlzdC5wYXJhbWV0ZXJzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJhbWV0ZXJsaXN0LnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgbXlQYXJhbWV0ZXIgPSB0aGlzLnBhcmFtZXRlcmxpc3QucGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgbGV0IG1QYXJhbWV0ZXIgPSBtLnBhcmFtZXRlcmxpc3QucGFyYW1ldGVyc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGlmKG1QYXJhbWV0ZXIudHlwZS5pc1ByaW1pdGl2ZSgpKXtcclxuICAgICAgICAgICAgICAgIGlmKG1QYXJhbWV0ZXIudHlwZSAhPSBteVBhcmFtZXRlci50eXBlKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZighbVBhcmFtZXRlci50eXBlLmNhbkNhc3RUbyhteVBhcmFtZXRlci50eXBlKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzRWxsaXBzaXMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYodGhpcy5wYXJhbWV0ZXJsaXN0LnBhcmFtZXRlcnMubGVuZ3RoID09IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJsaXN0LnBhcmFtZXRlcnNbdGhpcy5wYXJhbWV0ZXJsaXN0LnBhcmFtZXRlcnMubGVuZ3RoIC0gMV0uaXNFbGxpcHNpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0UGFyYW1ldGVyVHlwZShpbmRleDogbnVtYmVyKTogTlR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcmxpc3QucGFyYW1ldGVyc1tpbmRleF0udHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQYXJhbWV0ZXIoaW5kZXg6IG51bWJlcik6IE5WYXJpYWJsZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVybGlzdC5wYXJhbWV0ZXJzW2luZGV4XTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTlBhcmFtZXRlcmxpc3Qge1xyXG4gICAgaWQ6IHN0cmluZztcclxuXHJcbiAgICBwYXJhbWV0ZXJzOiBOVmFyaWFibGVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiBOVmFyaWFibGVbXSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgdGhpcy5jb21wdXRlSWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wdXRlSWQoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IFwiKFwiO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICB3aGlsZSAoaSA8IHRoaXMucGFyYW1ldGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCArPSB0aGlzLnBhcmFtZXRlcnNbaV0udHlwZS5pZGVudGlmaWVyO1xyXG4gICAgICAgICAgICBpZiAoaSA8IHRoaXMucGFyYW1ldGVycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkICs9IFwiLCBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaWQgKz0gXCIpXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE5WYXJpYWJsZSA9IHtcclxuICAgIGlkZW50aWZpZXI6IHN0cmluZyxcclxuICAgIHR5cGU6IE5UeXBlLFxyXG4gICAgc3RhY2tQb3M/OiBudW1iZXI7XHJcbiAgICB1c2FnZVBvc2l0aW9uczogVXNhZ2VQb3NpdGlvbnMsXHJcbiAgICBkZWNsYXJhdGlvbjogVGV4dFBvc2l0aW9uV2l0aE1vZHVsZSxcclxuICAgIGlzRmluYWw6IGJvb2xlYW4sXHJcbiAgICBpc0VsbGlwc2lzPzogYm9vbGVhbixcclxuICAgIHZhbHVlPzogYW55IC8vIG9ubHkgZm9yIHZhcmlhYmxlcyBvbiBoZWFwLFxyXG4gICAgZGVjbGFyYXRpb25FcnJvcj86IGFueSwgICAgIC8vIGlmIHYuZGVjbGFyYXRpb25FcnJvciAhPSBudWxsIHRoZW4gdmFyaWFibGUgaGFzIGJlZW4gdXNlZCBiZWZvcmUgaW5pdGlhbGl6YXRpb24uXHJcbiAgICB1c2VkQmVmb3JlSW5pdGlhbGl6YXRpb24/OiBib29sZWFuLFxyXG4gICAgaW5pdGlhbGl6ZWQ/OiBib29sZWFuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTkF0dHJpYnV0ZUluZm8ge1xyXG4gICAgaWRlbnRpZmllcjogc3RyaW5nO1xyXG5cclxuICAgIGluZGV4OiBudW1iZXI7XHJcblxyXG4gICAgdHlwZTogTlR5cGU7XHJcbiAgICBpc1N0YXRpYzogYm9vbGVhbjtcclxuICAgIGlzRmluYWw6IGJvb2xlYW47XHJcbiAgICBpc1RyYW5zaWVudDogYm9vbGVhbjtcclxuICAgIHZpc2liaWxpdHk6IE5WaXNpYmlsaXR5O1xyXG4gICAgdXNhZ2VQb3NpdGlvbnM6IFVzYWdlUG9zaXRpb25zO1xyXG4gICAgZGVjbGFyYXRpb246IFRleHRQb3NpdGlvbldpdGhNb2R1bGU7XHJcbiAgICBkb2N1bWVudGF0aW9uOiBzdHJpbmc7XHJcbiAgICBhbm5vdGF0aW9uPzogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdHlwZTogTlR5cGUsIGlzU3RhdGljOiBib29sZWFuLCB2aXNpYmlsaXR5OiBOVmlzaWJpbGl0eSwgXHJcbiAgICAgICAgaXNGaW5hbDogYm9vbGVhbiwgZG9jdW1lbnRhdGlvbj86IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLmlzU3RhdGljID0gaXNTdGF0aWM7XHJcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcclxuICAgICAgICB0aGlzLmlzRmluYWwgPSBpc0ZpbmFsO1xyXG4gICAgICAgIHRoaXMudXNhZ2VQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uID0gZG9jdW1lbnRhdGlvbjtcclxuICAgIH1cclxuXHJcbn0iXX0=