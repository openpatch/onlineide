import { TokenType } from "../compiler/lexer/Token.js";
import { NType } from "./NewType.js";
export class NClassLike extends NType {
    constructor() {
        super(...arguments);
        this.allExtendedImplementedTypes = [];
    }
    compute(operator, otherType, value1, value2) {
        return "null" + value2;
    }
    equals(otherType) {
        return otherType == this;
    }
}
export class NClass extends NClassLike {
    constructor() {
        super(...arguments);
        this.methodInfoList = [];
        this.attributeInfo = [];
        this.implements = [];
    }
    getCastExpression(otherType) {
        return { e: "$1", condition: "$1.__class.allExtendedImplementedTypes.indexOf(" + otherType.identifier + ") >= 0", errormessage: "Casting nach " + otherType.identifier + " nicht möglich." };
    }
    castTo(otherType, value) {
        return value;
    }
    getOperatorExpression(operator, otherType) {
        if (operator == TokenType.plus && otherType.identifier == "String") {
            // TODO: Aufruf von toString richtig compilieren
            return { e: '($1 == null ? "null" : $1.toString()) + $2' };
        }
        return null;
    }
    getOperatorResultType(operator, otherType) {
        if (operator == TokenType.plus && otherType.identifier == "String") {
            return otherType;
        }
        return null;
    }
    debugOutput(value, maxLength) {
        // Todo: Aufruf der toString-Methode
        return "[" + this.identifier + "]";
    }
    getAllMethods() {
        // TODO
        return null;
    }
}
export class NInterface extends NClassLike {
    constructor() {
        super(...arguments);
        this.methodInfoList = [];
    }
    getCastExpression(otherType) {
        return { e: "$1", condition: "$1.__class.allExtendedImplementedTypes.indexOf(" + otherType.identifier + ") >= 0", errormessage: "Casting nach " + otherType.identifier + " nicht möglich." };
    }
    castTo(otherType, value) {
        return value;
    }
    getOperatorExpression(operator, otherType) {
        if (operator == TokenType.plus && otherType.identifier == "String") {
            // TODO: Aufruf von toString richtig compilieren
            return { e: '($1 == null ? "null" : $1.toString()) + $2' };
        }
        return null;
    }
    getOperatorResultType(operator, otherType) {
        if (operator == TokenType.plus && otherType.identifier == "String") {
            return otherType;
        }
        return null;
    }
    debugOutput(value, maxLength) {
        // Todo: Aufruf der toString-Methode
        return "[" + this.identifier + "]";
    }
    getAllMethods() {
        // TODO
        return null;
    }
}
export class NGenericType extends NClassLike {
    getCastExpression(otherType) {
        return { e: "$1", condition: "$1.__class.allExtendedImplementedTypes.indexOf(" + otherType.identifier + ") >= 0",
            errormessage: "Casting nach " + otherType.identifier + " nicht möglich." };
    }
    castTo(otherType, value) {
        return value;
    }
    getOperatorExpression(operator, otherType) {
        if (operator == TokenType.plus && otherType.identifier == "String") {
            // TODO: Aufruf von toString richtig compilieren
            return { e: '($1 == null ? "null" : $1.toString()) + $2' };
        }
        return null;
    }
    getOperatorResultType(operator, otherType) {
        if (operator == TokenType.plus && otherType.identifier == "String") {
            return otherType;
        }
        return null;
    }
    debugOutput(value, maxLength) {
        // Todo: Aufruf der toString-Methode
        return "[" + this.identifier + "]";
    }
    getAllMethods() {
        // TODO
        return null;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTkNsYXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NsaWVudC9uZXdjb21waWxlci9OQ2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3ZELE9BQU8sRUFBNEMsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRy9FLE1BQU0sT0FBZ0IsVUFBVyxTQUFRLEtBQUs7SUFBOUM7O1FBRUksZ0NBQTJCLEdBQWEsRUFBRSxDQUFDO0lBVy9DLENBQUM7SUFSRyxPQUFPLENBQUMsUUFBbUIsRUFBRSxTQUFnQixFQUFFLE1BQVcsRUFBRSxNQUFZO1FBQ3BFLE9BQU8sTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUMzQixDQUFDO0lBRUQsTUFBTSxDQUFDLFNBQWdCO1FBQ25CLE9BQU8sU0FBUyxJQUFJLElBQUksQ0FBQztJQUM3QixDQUFDO0NBRUo7QUFFRCxNQUFNLE9BQU8sTUFBTyxTQUFRLFVBQVU7SUFBdEM7O1FBRUksbUJBQWMsR0FBa0IsRUFBRSxDQUFDO1FBQ25DLGtCQUFhLEdBQXFCLEVBQUUsQ0FBQztRQUVyQyxlQUFVLEdBQWlCLEVBQUUsQ0FBQztJQXFDbEMsQ0FBQztJQWpDRyxpQkFBaUIsQ0FBQyxTQUFnQjtRQUM5QixPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsaURBQWlELEdBQUcsU0FBUyxDQUFDLFVBQVUsR0FBRyxRQUFRLEVBQUUsWUFBWSxFQUFFLGVBQWUsR0FBRyxTQUFTLENBQUMsVUFBVSxHQUFHLGlCQUFpQixFQUFFLENBQUE7SUFDaE0sQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFnQixFQUFFLEtBQVU7UUFDL0IsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELHFCQUFxQixDQUFDLFFBQW1CLEVBQUUsU0FBaUI7UUFDeEQsSUFBSSxRQUFRLElBQUksU0FBUyxDQUFDLElBQUksSUFBSSxT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LElBQUksUUFBUSxJQUFJLFNBQVMsQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLFVBQVUsSUFBSSxRQUFRLEVBQUU7WUFDaEUsT0FBTyxTQUFTLENBQUM7U0FDcEI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQVUsRUFBRSxTQUFrQjtRQUM3QyxvQ0FBb0M7UUFDcEMsT0FBTyxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7SUFDdkMsQ0FBQztJQUVELGFBQWE7UUFDVCxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9rZW5UeXBlIH0gZnJvbSBcIi4uL2NvbXBpbGVyL2xleGVyL1Rva2VuLmpzXCI7XHJcbmltcG9ydCB7IE5BdHRyaWJ1dGVJbmZvLCBORXhwcmVzc2lvbiwgTk1ldGhvZEluZm8sIE5UeXBlIH0gZnJvbSBcIi4vTmV3VHlwZS5qc1wiO1xyXG5pbXBvcnQgeyBSdW50aW1lT2JqZWN0UHJvdG90eXBlIH0gZnJvbSBcIi4vTlJ1bnRpbWVPYmplY3QuanNcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOQ2xhc3NMaWtlIGV4dGVuZHMgTlR5cGUge1xyXG5cclxuICAgIGFsbEV4dGVuZGVkSW1wbGVtZW50ZWRUeXBlczogc3RyaW5nW10gPSBbXTtcclxuICAgIGFic3RyYWN0IGdldEFsbE1ldGhvZHMoKTogTk1ldGhvZEluZm9bXTtcclxuXHJcbiAgICBjb21wdXRlKG9wZXJhdG9yOiBUb2tlblR5cGUsIG90aGVyVHlwZTogTlR5cGUsIHZhbHVlMTogYW55LCB2YWx1ZTI/OiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gXCJudWxsXCIgKyB2YWx1ZTI7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzKG90aGVyVHlwZTogTlR5cGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXJUeXBlID09IHRoaXM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTkNsYXNzIGV4dGVuZHMgTkNsYXNzTGlrZSB7XHJcblxyXG4gICAgbWV0aG9kSW5mb0xpc3Q6IE5NZXRob2RJbmZvW10gPSBbXTtcclxuICAgIGF0dHJpYnV0ZUluZm86IE5BdHRyaWJ1dGVJbmZvW10gPSBbXTtcclxuICAgIGV4dGVuZHM6IE5DbGFzcztcclxuICAgIGltcGxlbWVudHM6IE5JbnRlcmZhY2VbXSA9IFtdO1xyXG4gICAgXHJcbiAgICBydW50aW1lT2JqZWN0UHJvdG90eXBlOiBSdW50aW1lT2JqZWN0UHJvdG90eXBlO1xyXG5cclxuICAgIGdldENhc3RFeHByZXNzaW9uKG90aGVyVHlwZTogTlR5cGUpOiBORXhwcmVzc2lvbiB7XHJcbiAgICAgICAgcmV0dXJuIHsgZTogXCIkMVwiLCBjb25kaXRpb246IFwiJDEuX19jbGFzcy5hbGxFeHRlbmRlZEltcGxlbWVudGVkVHlwZXMuaW5kZXhPZihcIiArIG90aGVyVHlwZS5pZGVudGlmaWVyICsgXCIpID49IDBcIiwgZXJyb3JtZXNzYWdlOiBcIkNhc3RpbmcgbmFjaCBcIiArIG90aGVyVHlwZS5pZGVudGlmaWVyICsgXCIgbmljaHQgbcO2Z2xpY2guXCIgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhc3RUbyhvdGhlclR5cGU6IE5UeXBlLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE9wZXJhdG9yRXhwcmVzc2lvbihvcGVyYXRvcjogVG9rZW5UeXBlLCBvdGhlclR5cGU/OiBOVHlwZSk6IE5FeHByZXNzaW9uIHtcclxuICAgICAgICBpZiAob3BlcmF0b3IgPT0gVG9rZW5UeXBlLnBsdXMgJiYgb3RoZXJUeXBlLmlkZW50aWZpZXIgPT0gXCJTdHJpbmdcIikge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBBdWZydWYgdm9uIHRvU3RyaW5nIHJpY2h0aWcgY29tcGlsaWVyZW5cclxuICAgICAgICAgICAgcmV0dXJuIHsgZTogJygkMSA9PSBudWxsID8gXCJudWxsXCIgOiAkMS50b1N0cmluZygpKSArICQyJyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE9wZXJhdG9yUmVzdWx0VHlwZShvcGVyYXRvcjogVG9rZW5UeXBlLCBvdGhlclR5cGU6IE5UeXBlKTogTlR5cGUge1xyXG4gICAgICAgIGlmIChvcGVyYXRvciA9PSBUb2tlblR5cGUucGx1cyAmJiBvdGhlclR5cGUuaWRlbnRpZmllciA9PSBcIlN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvdGhlclR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogYW55LCBtYXhMZW5ndGg/OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIFRvZG86IEF1ZnJ1ZiBkZXIgdG9TdHJpbmctTWV0aG9kZVxyXG4gICAgICAgIHJldHVybiBcIltcIiArIHRoaXMuaWRlbnRpZmllciArIFwiXVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFsbE1ldGhvZHMoKTogTk1ldGhvZEluZm9bXXtcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTkludGVyZmFjZSBleHRlbmRzIE5DbGFzc0xpa2Uge1xyXG5cclxuICAgIG1ldGhvZEluZm9MaXN0OiBOTWV0aG9kSW5mb1tdID0gW107XHJcbiAgICBleHRlbmRzOiBOSW50ZXJmYWNlW107XHJcbiAgICBcclxuXHJcbiAgICBnZXRDYXN0RXhwcmVzc2lvbihvdGhlclR5cGU6IE5UeXBlKTogTkV4cHJlc3Npb24ge1xyXG4gICAgICAgIHJldHVybiB7IGU6IFwiJDFcIiwgY29uZGl0aW9uOiBcIiQxLl9fY2xhc3MuYWxsRXh0ZW5kZWRJbXBsZW1lbnRlZFR5cGVzLmluZGV4T2YoXCIgKyBvdGhlclR5cGUuaWRlbnRpZmllciArIFwiKSA+PSAwXCIsIGVycm9ybWVzc2FnZTogXCJDYXN0aW5nIG5hY2ggXCIgKyBvdGhlclR5cGUuaWRlbnRpZmllciArIFwiIG5pY2h0IG3DtmdsaWNoLlwiIH1cclxuICAgIH1cclxuICAgIGNhc3RUbyhvdGhlclR5cGU6IE5UeXBlLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZ2V0T3BlcmF0b3JFeHByZXNzaW9uKG9wZXJhdG9yOiBUb2tlblR5cGUsIG90aGVyVHlwZT86IE5UeXBlKTogTkV4cHJlc3Npb24ge1xyXG4gICAgICAgIGlmIChvcGVyYXRvciA9PSBUb2tlblR5cGUucGx1cyAmJiBvdGhlclR5cGUuaWRlbnRpZmllciA9PSBcIlN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IEF1ZnJ1ZiB2b24gdG9TdHJpbmcgcmljaHRpZyBjb21waWxpZXJlblxyXG4gICAgICAgICAgICByZXR1cm4geyBlOiAnKCQxID09IG51bGwgPyBcIm51bGxcIiA6ICQxLnRvU3RyaW5nKCkpICsgJDInIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBnZXRPcGVyYXRvclJlc3VsdFR5cGUob3BlcmF0b3I6IFRva2VuVHlwZSwgb3RoZXJUeXBlOiBOVHlwZSk6IE5UeXBlIHtcclxuICAgICAgICBpZiAob3BlcmF0b3IgPT0gVG9rZW5UeXBlLnBsdXMgJiYgb3RoZXJUeXBlLmlkZW50aWZpZXIgPT0gXCJTdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gb3RoZXJUeXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IGFueSwgbWF4TGVuZ3RoPzogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBUb2RvOiBBdWZydWYgZGVyIHRvU3RyaW5nLU1ldGhvZGVcclxuICAgICAgICByZXR1cm4gXCJbXCIgKyB0aGlzLmlkZW50aWZpZXIgKyBcIl1cIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGxNZXRob2RzKCk6IE5NZXRob2RJbmZvW117XHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5HZW5lcmljVHlwZSBleHRlbmRzIE5DbGFzc0xpa2Uge1xyXG5cclxuICAgIGV4dGVuZHNDbGFzczogTkNsYXNzO1xyXG4gICAgZXh0ZW5kc0ludGVyZmFjZXM6IE5JbnRlcmZhY2VbXTtcclxuICAgIHN1cGVyOiBOQ2xhc3M7XHJcblxyXG4gICAgZ2V0Q2FzdEV4cHJlc3Npb24ob3RoZXJUeXBlOiBOVHlwZSk6IE5FeHByZXNzaW9uIHtcclxuICAgICAgICByZXR1cm4geyBlOiBcIiQxXCIsIGNvbmRpdGlvbjogXCIkMS5fX2NsYXNzLmFsbEV4dGVuZGVkSW1wbGVtZW50ZWRUeXBlcy5pbmRleE9mKFwiICsgb3RoZXJUeXBlLmlkZW50aWZpZXIgKyBcIikgPj0gMFwiLCBcclxuICAgICAgICBlcnJvcm1lc3NhZ2U6IFwiQ2FzdGluZyBuYWNoIFwiICsgb3RoZXJUeXBlLmlkZW50aWZpZXIgKyBcIiBuaWNodCBtw7ZnbGljaC5cIiB9XHJcbiAgICB9XHJcbiAgICBjYXN0VG8ob3RoZXJUeXBlOiBOVHlwZSwgdmFsdWU6IGFueSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIGdldE9wZXJhdG9yRXhwcmVzc2lvbihvcGVyYXRvcjogVG9rZW5UeXBlLCBvdGhlclR5cGU/OiBOVHlwZSk6IE5FeHByZXNzaW9uIHtcclxuICAgICAgICBpZiAob3BlcmF0b3IgPT0gVG9rZW5UeXBlLnBsdXMgJiYgb3RoZXJUeXBlLmlkZW50aWZpZXIgPT0gXCJTdHJpbmdcIikge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBBdWZydWYgdm9uIHRvU3RyaW5nIHJpY2h0aWcgY29tcGlsaWVyZW5cclxuICAgICAgICAgICAgcmV0dXJuIHsgZTogJygkMSA9PSBudWxsID8gXCJudWxsXCIgOiAkMS50b1N0cmluZygpKSArICQyJyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0T3BlcmF0b3JSZXN1bHRUeXBlKG9wZXJhdG9yOiBUb2tlblR5cGUsIG90aGVyVHlwZTogTlR5cGUpOiBOVHlwZSB7XHJcbiAgICAgICAgaWYgKG9wZXJhdG9yID09IFRva2VuVHlwZS5wbHVzICYmIG90aGVyVHlwZS5pZGVudGlmaWVyID09IFwiU3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG90aGVyVHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBhbnksIG1heExlbmd0aD86IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gVG9kbzogQXVmcnVmIGRlciB0b1N0cmluZy1NZXRob2RlXHJcbiAgICAgICAgcmV0dXJuIFwiW1wiICsgdGhpcy5pZGVudGlmaWVyICsgXCJdXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsTWV0aG9kcygpOiBOTWV0aG9kSW5mb1tde1xyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbiJdfQ==